===================================================
    4-GPU MPI CUDA ACO Benchmark Launcher
===================================================
Checking CUDA availability...
Checking MPI availability...
Using MPI runner: mpirun
Checking GPU information...
GPU Information:
Tesla V100-SXM2-16GB, 16384 MiB, 535.86.10
Tesla V100-SXM2-16GB, 16384 MiB, 535.86.10
Tesla V100-SXM2-16GB, 16384 MiB, 535.86.10
Tesla V100-SXM2-16GB, 16384 MiB, 535.86.10

Number of GPUs detected:
4
Cleaning previous builds...
Setting GPU architecture...
Using ARCH: sm_70 (V100)
Creating graph directory...

===================================================
Testing with PARAMETR_SIZE=42
===================================================
Updating parameter file with PARAMETR_SIZE=42...
Updating parametrs.h with PARAMETR_SIZE=42 and NAME_FILE_GRAPH=Parametr_Graph/test42.txt
Successfully updated parametrs.h with PARAMETR_SIZE=42
Updating BLOCK_SIZE based on PARAM_SIZE...
Updating BLOCK_SIZE based on PARAM_SIZE=42
PARAM_SIZE=42 <= 2688, setting BLOCK_SIZE=64
Successfully updated parametrs.h with BLOCK_SIZE=64
Updating MPI settings in parametrs.h...
MPI settings updated
===================================================
Testing with PARAMETR_SIZE=42, ANT_SIZE=1024
===================================================
Updating parameter file with ANT_SIZE=1024...
Updating parametrs.h with ANT_SIZE=1024
Successfully updated parametrs.h with ANT_SIZE=1024
Compiling MPI CUDA program with arch=sm_70...
MPI compilation successful. Log saved to: results/compilation_logs/compile_size_42_ant_1024_20251228_180134.txt

===================================================
Running 4-GPU MPI ACO optimization...
===================================================

Start time: Sun Dec 28 18:01:42 MSK 2025
Launching with 4 MPI processes (one per GPU)...
Method 1: Simple 4-process MPI run
Process 0/4 using GPU 0: Tesla V100-SXM2-16GB (Compute 7.0)
Process 1/4 using GPU 1: Tesla V100-SXM2-16GB (Compute 7.0)
Process 2/4 using GPU 2: Tesla V100-SXM2-16GB (Compute 7.0)
Process 3/4 using GPU 3: Tesla V100-SXM2-16GB (Compute 7.0)
Memory bounds check:
  PARAMETR_SIZE: 42
  MAX_VALUE_SIZE: 5
  ANT_SIZE per process: 1024
  Total ants across all processes: 4096
  Total matrix elements: 210
Device 0: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 0.506428 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 4013021 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 336 bytes (0.328125 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 1680 bytes (1.64062 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 1: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 0.506428 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 4013021 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 336 bytes (0.328125 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 1680 bytes (1.64062 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 2: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 0.506428 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 4013021 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 336 bytes (0.328125 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 1680 bytes (1.64062 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 3: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 0.506428 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 4013021 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 336 bytes (0.328125 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 1680 bytes (1.64062 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
KOL_GPU: 4; PARAMETR_SIZE: 42; MAX_VALUE_SIZE: 5; SET_PARAMETR_SIZE_ONE_X: 21; ANT_SIZE: 1024; MAX_THREAD_CUDA: 512; NAME_FILE_GRAPH: Parametr_Graph/test42.txt; KOL_ITERATION: 500; KOL_PROGREV: 5; KOL_PROGON_STATISTICS: 50; PARAMETR_RO: 0.999; PARAMETR_Q: 1; PRINT_INFORMATION: 0; MAX_PARAMETR_VALUE_TO_MIN_OPT: 1; OPTIMIZE: OPTIMIZE_MIN_1 ; FUNCTION: SHAFFERA GO_HASH: 0; HASH_TABLE_SIZE: 1048576; ZERO_HASH_RESULT: -1; ZERO_HASH: 18446744073709551615; MAX_PROBES: 10000; MAX_CONST: 8192; MAX_SHARED: 49152; BLOCK_SIZE: 64; BIN_SEARCH: 0; NON_WHILE_ANT: 1; 
USE CONST MEMORY
USE SHARED MEMORY
Warmup 0
Warmup 1
Warmup 2
Warmup 3
Warmup 4
Run MPI Combined Run0: Time=71.3975ms Kernel=0ms Probabilities=15.2789ms Ant=14.5009ms Update=0ms Memory=71.3975ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=4.87706 MIN=0.00123005 MAX=1 
Run MPI Combined Run1: Time=68.2833ms Kernel=0ms Probabilities=14.6652ms Ant=14.0248ms Update=0ms Memory=68.2833ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=5.0995 MIN=0.00123005 MAX=1 
Run MPI Combined Run2: Time=71.1434ms Kernel=0ms Probabilities=13.983ms Ant=14.4209ms Update=0ms Memory=71.1434ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=4.89449 MIN=0.00123005 MAX=1 
Run MPI Combined Run3: Time=71.2817ms Kernel=0ms Probabilities=14.3331ms Ant=14.3555ms Update=0ms Memory=71.2817ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=4.88499 MIN=0.00123005 MAX=1 
Run MPI Combined Run4: Time=70.5661ms Kernel=0ms Probabilities=14.2777ms Ant=14.4231ms Update=0ms Memory=70.5661ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=4.93453 MIN=0.00123005 MAX=1 
Run MPI Combined Run5: Time=70.8274ms Kernel=0ms Probabilities=14.3133ms Ant=14.3186ms Update=0ms Memory=70.8274ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=4.91633 MIN=0.00123005 MAX=1 
Run MPI Combined Run6: Time=69.9655ms Kernel=0ms Probabilities=13.7808ms Ant=14.1558ms Update=0ms Memory=69.9655ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=4.97689 MIN=0.00123005 MAX=1 
Run MPI Combined Run7: Time=70.6169ms Kernel=0ms Probabilities=14.3437ms Ant=14.0237ms Update=0ms Memory=70.6169ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=4.93098 MIN=0.00123005 MAX=1 
Run MPI Combined Run8: Time=70.5124ms Kernel=0ms Probabilities=14.1519ms Ant=14.1456ms Update=0ms Memory=70.5124ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=4.93828 MIN=0.00123005 MAX=1 
Run MPI Combined Run9: Time=70.1229ms Kernel=0ms Probabilities=14.1657ms Ant=14.1343ms Update=0ms Memory=70.1229ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=4.96571 MIN=0.00123005 MAX=1 
Run MPI Combined Run10: Time=69.2472ms Kernel=0ms Probabilities=13.6174ms Ant=14.1466ms Update=0ms Memory=69.2472ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=5.02851 MIN=0.00123005 MAX=1 
Run MPI Combined Run11: Time=68.3421ms Kernel=0ms Probabilities=14.0111ms Ant=14.2746ms Update=0ms Memory=68.3421ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=5.09511 MIN=0.00123005 MAX=1 
Run MPI Combined Run12: Time=73.0374ms Kernel=0ms Probabilities=14.4288ms Ant=14.1015ms Update=0ms Memory=73.0374ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=4.76756 MIN=0.00123005 MAX=1 
Run MPI Combined Run13: Time=74.1882ms Kernel=0ms Probabilities=14.7882ms Ant=14.0135ms Update=0ms Memory=74.1882ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=4.69361 MIN=0.00123005 MAX=1 
Run MPI Combined Run14: Time=75.0949ms Kernel=0ms Probabilities=14.9155ms Ant=14.0585ms Update=0ms Memory=75.0949ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=4.63694 MIN=0.00123005 MAX=1 
Run MPI Combined Run15: Time=75.2613ms Kernel=0ms Probabilities=15.0249ms Ant=14.0237ms Update=0ms Memory=75.2613ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=4.62668 MIN=0.00123005 MAX=1 
Run MPI Combined Run16: Time=73.8837ms Kernel=0ms Probabilities=15.1583ms Ant=14.0954ms Update=0ms Memory=73.8837ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=4.71295 MIN=0.00123005 MAX=1 
Run MPI Combined Run17: Time=65.5493ms Kernel=0ms Probabilities=14.1858ms Ant=13.6448ms Update=0ms Memory=65.5493ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=5.31219 MIN=0.00123005 MAX=1 
Run MPI Combined Run18: Time=67.4698ms Kernel=0ms Probabilities=13.3547ms Ant=13.7206ms Update=0ms Memory=67.4698ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=5.16098 MIN=0.00123005 MAX=1 
Run MPI Combined Run19: Time=69.3376ms Kernel=0ms Probabilities=13.9838ms Ant=13.7288ms Update=0ms Memory=69.3376ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=5.02196 MIN=0.00123005 MAX=1 
Run MPI Combined Run20: Time=68.887ms Kernel=0ms Probabilities=13.6506ms Ant=13.8138ms Update=0ms Memory=68.887ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=5.05481 MIN=0.00123005 MAX=1 
Run MPI Combined Run21: Time=69.9876ms Kernel=0ms Probabilities=13.7719ms Ant=13.6284ms Update=0ms Memory=69.9876ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=4.97531 MIN=0.00123005 MAX=1 
Run MPI Combined Run22: Time=69.8267ms Kernel=0ms Probabilities=13.6516ms Ant=13.8025ms Update=0ms Memory=69.8267ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=4.98678 MIN=0.00123005 MAX=1 
Run MPI Combined Run23: Time=68.9718ms Kernel=0ms Probabilities=13.6844ms Ant=13.5772ms Update=0ms Memory=68.9718ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=5.04859 MIN=0.00123005 MAX=1 
Run MPI Combined Run24: Time=68.8544ms Kernel=0ms Probabilities=13.5558ms Ant=13.7144ms Update=0ms Memory=68.8544ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=5.0572 MIN=0.00123005 MAX=1 
Run MPI Combined Run25: Time=68.8759ms Kernel=0ms Probabilities=13.582ms Ant=13.6663ms Update=0ms Memory=68.8759ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=5.05562 MIN=0.00123005 MAX=1 
Run MPI Combined Run26: Time=68.5085ms Kernel=0ms Probabilities=13.4589ms Ant=13.6202ms Update=0ms Memory=68.5085ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=5.08273 MIN=0.00123005 MAX=1 
Run MPI Combined Run27: Time=68.3097ms Kernel=0ms Probabilities=13.5578ms Ant=13.5588ms Update=0ms Memory=68.3097ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=5.09753 MIN=0.00123005 MAX=1 
Run MPI Combined Run28: Time=66.9557ms Kernel=0ms Probabilities=13.399ms Ant=13.612ms Update=0ms Memory=66.9557ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=5.20061 MIN=0.00123005 MAX=1 
Run MPI Combined Run29: Time=70.8655ms Kernel=0ms Probabilities=14.2496ms Ant=13.5465ms Update=0ms Memory=70.8655ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=4.91368 MIN=0.00123005 MAX=1 
Run MPI Combined Run30: Time=74.7402ms Kernel=0ms Probabilities=14.6368ms Ant=13.652ms Update=0ms Memory=74.7402ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=4.65894 MIN=0.00123005 MAX=1 
Run MPI Combined Run31: Time=74.9802ms Kernel=0ms Probabilities=14.8468ms Ant=13.7083ms Update=0ms Memory=74.9802ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=4.64403 MIN=0.00123005 MAX=1 
Run MPI Combined Run32: Time=75.2321ms Kernel=0ms Probabilities=14.8788ms Ant=13.9909ms Update=0ms Memory=75.2321ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=4.62848 MIN=0.00123005 MAX=1 
Run MPI Combined Run33: Time=71.4586ms Kernel=0ms Probabilities=14.7485ms Ant=13.4892ms Update=0ms Memory=71.4586ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=4.87289 MIN=0.00123005 MAX=1 
Run MPI Combined Run34: Time=64.0847ms Kernel=0ms Probabilities=12.7425ms Ant=13.269ms Update=0ms Memory=64.0847ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=5.4336 MIN=0.00123005 MAX=1 
Run MPI Combined Run35: Time=68.2803ms Kernel=0ms Probabilities=13.5751ms Ant=13.356ms Update=0ms Memory=68.2803ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=5.09972 MIN=0.00123005 MAX=1 
Run MPI Combined Run36: Time=69.1694ms Kernel=0ms Probabilities=13.7409ms Ant=13.694ms Update=0ms Memory=69.1694ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=5.03416 MIN=0.00123005 MAX=1 
Run MPI Combined Run37: Time=69.1895ms Kernel=0ms Probabilities=13.6748ms Ant=13.5824ms Update=0ms Memory=69.1895ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=5.03271 MIN=0.00123005 MAX=1 
Run MPI Combined Run38: Time=69.2355ms Kernel=0ms Probabilities=13.701ms Ant=13.7605ms Update=0ms Memory=69.2355ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=5.02936 MIN=0.00123005 MAX=1 
Run MPI Combined Run39: Time=69.5577ms Kernel=0ms Probabilities=13.7283ms Ant=13.5148ms Update=0ms Memory=69.5577ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=5.00607 MIN=0.00123005 MAX=1 
Run MPI Combined Run40: Time=69.2449ms Kernel=0ms Probabilities=13.7129ms Ant=13.5137ms Update=0ms Memory=69.2449ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=5.02868 MIN=0.00123005 MAX=1 
Run MPI Combined Run41: Time=68.898ms Kernel=0ms Probabilities=13.6261ms Ant=13.4277ms Update=0ms Memory=68.898ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=5.054 MIN=0.00123005 MAX=1 
Run MPI Combined Run42: Time=68.5064ms Kernel=0ms Probabilities=13.4943ms Ant=13.4257ms Update=0ms Memory=68.5064ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=5.08289 MIN=0.00123005 MAX=1 
Run MPI Combined Run43: Time=69.1855ms Kernel=0ms Probabilities=13.7645ms Ant=13.4216ms Update=0ms Memory=69.1855ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=5.033 MIN=0.00123005 MAX=1 
Run MPI Combined Run44: Time=69.0149ms Kernel=0ms Probabilities=13.6854ms Ant=13.5096ms Update=0ms Memory=69.0149ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=5.04544 MIN=0.00123005 MAX=1 
Run MPI Combined Run45: Time=67.0962ms Kernel=0ms Probabilities=13.4542ms Ant=13.2547ms Update=0ms Memory=67.0962ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=5.18972 MIN=0.00123005 MAX=1 
Run MPI Combined Run46: Time=72.0285ms Kernel=0ms Probabilities=14.1842ms Ant=13.4994ms Update=0ms Memory=72.0285ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=4.83434 MIN=0.00123005 MAX=1 
Run MPI Combined Run47: Time=74.0831ms Kernel=0ms Probabilities=14.7331ms Ant=13.3878ms Update=0ms Memory=74.0831ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=4.70026 MIN=0.00123005 MAX=1 
Run MPI Combined Run48: Time=74.4202ms Kernel=0ms Probabilities=14.7571ms Ant=13.567ms Update=0ms Memory=74.4202ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=4.67898 MIN=0.00123005 MAX=1 
Run MPI Combined Run49: Time=75.0428ms Kernel=0ms Probabilities=14.8734ms Ant=13.612ms Update=0ms Memory=75.0428ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=4.64016 MIN=0.00123005 MAX=1 
End time: Sun Dec 28 18:01:48 MSK 2025
Execution time: 6.484790816 seconds
MPI execution completed successfully
Log file saved to results
GPU utilization after run:
index, name, utilization.gpu [%], memory.used [MiB], memory.free [MiB]
0, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
1, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
2, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
3, Tesla V100-SXM2-16GB, 1 %, 0 MiB, 16151 MiB

===================================================
Benchmark completed for PARAMETR_SIZE=42, ANT_SIZE=1024!
Results saved in: results/
Execution time: 6.484790816 seconds
Number of GPUs used: 4
===================================================
Cooling down for 10 seconds...

===================================================
Testing with PARAMETR_SIZE=84
===================================================
Updating parameter file with PARAMETR_SIZE=84...
Updating parametrs.h with PARAMETR_SIZE=84 and NAME_FILE_GRAPH=Parametr_Graph/test84.txt
Successfully updated parametrs.h with PARAMETR_SIZE=84
Updating BLOCK_SIZE based on PARAM_SIZE...
Updating BLOCK_SIZE based on PARAM_SIZE=84
PARAM_SIZE=84 <= 2688, setting BLOCK_SIZE=64
Successfully updated parametrs.h with BLOCK_SIZE=64
Updating MPI settings in parametrs.h...
MPI settings updated
===================================================
Testing with PARAMETR_SIZE=84, ANT_SIZE=1024
===================================================
Updating parameter file with ANT_SIZE=1024...
Updating parametrs.h with ANT_SIZE=1024
Successfully updated parametrs.h with ANT_SIZE=1024
Compiling MPI CUDA program with arch=sm_70...
MPI compilation successful. Log saved to: results/compilation_logs/compile_size_84_ant_1024_20251228_180203.txt

===================================================
Running 4-GPU MPI ACO optimization...
===================================================

Start time: Sun Dec 28 18:02:11 MSK 2025
Launching with 4 MPI processes (one per GPU)...
Method 1: Simple 4-process MPI run
Process 1/4 using GPU 1: Tesla V100-SXM2-16GB (Compute 7.0)
Process 2/4 using GPU 2: Tesla V100-SXM2-16GB (Compute 7.0)
Process 0/4 using GPU 0: Tesla V100-SXM2-16GB (Compute 7.0)
Process 3/4 using GPU 3: Tesla V100-SXM2-16GB (Compute 7.0)
Memory bounds check:
  PARAMETR_SIZE: 84
  MAX_VALUE_SIZE: 5
  ANT_SIZE per process: 1024
  Total ants across all processes: 4096
  Total matrix elements: 420
Device 0: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 1.00502 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 4013021 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 672 bytes (0.65625 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 3360 bytes (3.28125 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 1: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 1.00502 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 4013021 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 672 bytes (0.65625 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 3360 bytes (3.28125 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 2: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 1.00502 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 4013021 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 672 bytes (0.65625 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 3360 bytes (3.28125 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 3: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 1.00502 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 4013021 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 672 bytes (0.65625 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 3360 bytes (3.28125 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
KOL_GPU: 4; PARAMETR_SIZE: 84; MAX_VALUE_SIZE: 5; SET_PARAMETR_SIZE_ONE_X: 21; ANT_SIZE: 1024; MAX_THREAD_CUDA: 512; NAME_FILE_GRAPH: Parametr_Graph/test84.txt; KOL_ITERATION: 500; KOL_PROGREV: 5; KOL_PROGON_STATISTICS: 50; PARAMETR_RO: 0.999; PARAMETR_Q: 1; PRINT_INFORMATION: 0; MAX_PARAMETR_VALUE_TO_MIN_OPT: 1; OPTIMIZE: OPTIMIZE_MIN_1 ; FUNCTION: SHAFFERA GO_HASH: 0; HASH_TABLE_SIZE: 1048576; ZERO_HASH_RESULT: -1; ZERO_HASH: 18446744073709551615; MAX_PROBES: 10000; MAX_CONST: 8192; MAX_SHARED: 49152; BLOCK_SIZE: 64; BIN_SEARCH: 0; NON_WHILE_ANT: 1; 
USE CONST MEMORY
USE SHARED MEMORY
Warmup 0
Warmup 1
Warmup 2
Warmup 3
Warmup 4
Run MPI Combined Run0: Time=82.0911ms Kernel=0ms Probabilities=16.101ms Ant=16.8274ms Update=0ms Memory=82.0911ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.29763 MIN=0.00123006 MAX=1 
Run MPI Combined Run1: Time=78.6991ms Kernel=0ms Probabilities=16.0622ms Ant=16.7649ms Update=0ms Memory=78.6991ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.65526 MIN=0.00123005 MAX=1 
Run MPI Combined Run2: Time=77.9723ms Kernel=0ms Probabilities=15.6045ms Ant=16.728ms Update=0ms Memory=77.9723ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.73595 MIN=0.00123005 MAX=1 
Run MPI Combined Run3: Time=77.7558ms Kernel=0ms Probabilities=15.7024ms Ant=16.6246ms Update=0ms Memory=77.7558ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.76027 MIN=0.00123005 MAX=1 
Run MPI Combined Run4: Time=77.7873ms Kernel=0ms Probabilities=15.6618ms Ant=16.6287ms Update=0ms Memory=77.7873ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.75673 MIN=0.00123005 MAX=1 
Run MPI Combined Run5: Time=77.6266ms Kernel=0ms Probabilities=15.6865ms Ant=16.5775ms Update=0ms Memory=77.6266ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.77485 MIN=0.00123005 MAX=1 
Run MPI Combined Run6: Time=74.9488ms Kernel=0ms Probabilities=15.3285ms Ant=16.4106ms Update=0ms Memory=74.9488ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=9.08836 MIN=0.00123005 MAX=1 
Run MPI Combined Run7: Time=83.8681ms Kernel=0ms Probabilities=16.2797ms Ant=16.5048ms Update=0ms Memory=83.8681ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.12183 MIN=0.00123005 MAX=1 
Run MPI Combined Run8: Time=84.7451ms Kernel=0ms Probabilities=16.3741ms Ant=16.7106ms Update=0ms Memory=84.7451ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.03778 MIN=0.00123005 MAX=1 
Run MPI Combined Run9: Time=85.1846ms Kernel=0ms Probabilities=16.4403ms Ant=16.8356ms Update=0ms Memory=85.1846ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=7.9963 MIN=0.00123006 MAX=1 
Run MPI Combined Run10: Time=83.601ms Kernel=0ms Probabilities=16.1324ms Ant=16.7506ms Update=0ms Memory=83.601ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.14777 MIN=0.00123006 MAX=1 
Run MPI Combined Run11: Time=73.7875ms Kernel=0ms Probabilities=15.5277ms Ant=16.3768ms Update=0ms Memory=73.7875ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=9.2314 MIN=0.00123005 MAX=1 
Run MPI Combined Run12: Time=78.5459ms Kernel=0ms Probabilities=15.7113ms Ant=16.4393ms Update=0ms Memory=78.5459ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.67215 MIN=0.00123005 MAX=1 
Run MPI Combined Run13: Time=78.3279ms Kernel=0ms Probabilities=15.4013ms Ant=16.4168ms Update=0ms Memory=78.3279ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.69628 MIN=0.00123005 MAX=1 
Run MPI Combined Run14: Time=77.4938ms Kernel=0ms Probabilities=14.7778ms Ant=16.4413ms Update=0ms Memory=77.4938ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.78989 MIN=0.00123005 MAX=1 
Run MPI Combined Run15: Time=77.886ms Kernel=0ms Probabilities=15.3825ms Ant=16.3144ms Update=0ms Memory=77.886ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.74563 MIN=0.00123005 MAX=1 
Run MPI Combined Run16: Time=77.9271ms Kernel=0ms Probabilities=15.4508ms Ant=16.3031ms Update=0ms Memory=77.9271ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.74101 MIN=0.00123006 MAX=1 
Run MPI Combined Run17: Time=77.8502ms Kernel=0ms Probabilities=15.2498ms Ant=16.3871ms Update=0ms Memory=77.8502ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.74965 MIN=0.00123005 MAX=1 
Run MPI Combined Run18: Time=77.189ms Kernel=0ms Probabilities=14.7859ms Ant=16.3676ms Update=0ms Memory=77.189ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.8246 MIN=0.00123005 MAX=1 
Run MPI Combined Run19: Time=77.594ms Kernel=0ms Probabilities=15.2255ms Ant=16.4956ms Update=0ms Memory=77.594ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.77854 MIN=0.00123005 MAX=1 
Run MPI Combined Run20: Time=77.8238ms Kernel=0ms Probabilities=15.3584ms Ant=16.3133ms Update=0ms Memory=77.8238ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.75262 MIN=0.00123005 MAX=1 
Run MPI Combined Run21: Time=74.5089ms Kernel=0ms Probabilities=15.1455ms Ant=16.255ms Update=0ms Memory=74.5089ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=9.14202 MIN=0.00123005 MAX=1 
Run MPI Combined Run22: Time=82.382ms Kernel=0ms Probabilities=15.5485ms Ant=16.4096ms Update=0ms Memory=82.382ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.26834 MIN=0.00123005 MAX=1 
Run MPI Combined Run23: Time=84.5691ms Kernel=0ms Probabilities=16.1861ms Ant=16.4587ms Update=0ms Memory=84.5691ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.0545 MIN=0.00123005 MAX=1 
Run MPI Combined Run24: Time=84.1129ms Kernel=0ms Probabilities=16.0397ms Ant=16.5294ms Update=0ms Memory=84.1129ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.09818 MIN=0.00123005 MAX=1 
Run MPI Combined Run25: Time=83.9416ms Kernel=0ms Probabilities=16.4814ms Ant=16.5079ms Update=0ms Memory=83.9416ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.11471 MIN=0.00123005 MAX=1 
Run MPI Combined Run26: Time=72.8266ms Kernel=0ms Probabilities=14.8325ms Ant=15.9068ms Update=0ms Memory=72.8266ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=9.35321 MIN=0.00123005 MAX=1 
Run MPI Combined Run27: Time=76.8962ms Kernel=0ms Probabilities=15.3987ms Ant=16.2058ms Update=0ms Memory=76.8962ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.8582 MIN=0.00123005 MAX=1 
Run MPI Combined Run28: Time=77.6678ms Kernel=0ms Probabilities=15.478ms Ant=16.3307ms Update=0ms Memory=77.6678ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.77019 MIN=0.00123006 MAX=1 
Run MPI Combined Run29: Time=78.0025ms Kernel=0ms Probabilities=15.4755ms Ant=16.3584ms Update=0ms Memory=78.0025ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.73257 MIN=0.00123005 MAX=1 
Run MPI Combined Run30: Time=77.1812ms Kernel=0ms Probabilities=15.0861ms Ant=16.3543ms Update=0ms Memory=77.1812ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.82549 MIN=0.00123005 MAX=1 
Run MPI Combined Run31: Time=77.7408ms Kernel=0ms Probabilities=15.4142ms Ant=16.4423ms Update=0ms Memory=77.7408ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.76197 MIN=0.00123006 MAX=1 
Run MPI Combined Run32: Time=77.5797ms Kernel=0ms Probabilities=15.4295ms Ant=16.3031ms Update=0ms Memory=77.5797ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.78015 MIN=0.00123005 MAX=1 
Run MPI Combined Run33: Time=77.7444ms Kernel=0ms Probabilities=15.4263ms Ant=16.4116ms Update=0ms Memory=77.7444ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.76156 MIN=0.00123005 MAX=1 
Run MPI Combined Run34: Time=77.3066ms Kernel=0ms Probabilities=14.9834ms Ant=16.3174ms Update=0ms Memory=77.3066ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.81117 MIN=0.00123005 MAX=1 
Run MPI Combined Run35: Time=77.2482ms Kernel=0ms Probabilities=15.315ms Ant=16.3297ms Update=0ms Memory=77.2482ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.81784 MIN=0.00123005 MAX=1 
Run MPI Combined Run36: Time=74.7015ms Kernel=0ms Probabilities=15.3502ms Ant=16.1423ms Update=0ms Memory=74.7015ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=9.11845 MIN=0.00123005 MAX=1 
Run MPI Combined Run37: Time=79.4833ms Kernel=0ms Probabilities=15.7762ms Ant=16.2519ms Update=0ms Memory=79.4833ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.56987 MIN=0.00123005 MAX=1 
Run MPI Combined Run38: Time=83.1095ms Kernel=0ms Probabilities=15.7455ms Ant=16.4157ms Update=0ms Memory=83.1095ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.19595 MIN=0.00123005 MAX=1 
Run MPI Combined Run39: Time=84.2989ms Kernel=0ms Probabilities=16.308ms Ant=16.5038ms Update=0ms Memory=84.2989ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.08032 MIN=0.00123005 MAX=1 
Run MPI Combined Run40: Time=84.3582ms Kernel=0ms Probabilities=16.3127ms Ant=16.4802ms Update=0ms Memory=84.3582ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.07464 MIN=0.00123005 MAX=1 
Run MPI Combined Run41: Time=76.8834ms Kernel=0ms Probabilities=15.503ms Ant=16.1618ms Update=0ms Memory=76.8834ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.85968 MIN=0.00123005 MAX=1 
Run MPI Combined Run42: Time=74.8038ms Kernel=0ms Probabilities=14.745ms Ant=16.1249ms Update=0ms Memory=74.8038ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=9.10598 MIN=0.00123005 MAX=1 
Run MPI Combined Run43: Time=77.0849ms Kernel=0ms Probabilities=15.3448ms Ant=16.3492ms Update=0ms Memory=77.0849ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.83651 MIN=0.00123005 MAX=1 
Run MPI Combined Run44: Time=77.3435ms Kernel=0ms Probabilities=15.3323ms Ant=16.3492ms Update=0ms Memory=77.3435ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.80697 MIN=0.00123005 MAX=1 
Run MPI Combined Run45: Time=77.7163ms Kernel=0ms Probabilities=15.2721ms Ant=16.2509ms Update=0ms Memory=77.7163ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.76472 MIN=0.00123005 MAX=1 
Run MPI Combined Run46: Time=77.2787ms Kernel=0ms Probabilities=14.7721ms Ant=16.2765ms Update=0ms Memory=77.2787ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.81436 MIN=0.00123005 MAX=1 
Run MPI Combined Run47: Time=77.7142ms Kernel=0ms Probabilities=15.1943ms Ant=16.2959ms Update=0ms Memory=77.7142ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.76495 MIN=0.00123005 MAX=1 
Run MPI Combined Run48: Time=77.6811ms Kernel=0ms Probabilities=15.3767ms Ant=16.3932ms Update=0ms Memory=77.6811ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.76869 MIN=0.00123005 MAX=1 
Run MPI Combined Run49: Time=79.6485ms Kernel=0ms Probabilities=15.2712ms Ant=16.3297ms Update=0ms Memory=79.6485ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=8.5521 MIN=0.00123005 MAX=1 
End time: Sun Dec 28 18:02:19 MSK 2025
Execution time: 8.199671615 seconds
MPI execution completed successfully
Log file saved to results
GPU utilization after run:
index, name, utilization.gpu [%], memory.used [MiB], memory.free [MiB]
0, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
1, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
2, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
3, Tesla V100-SXM2-16GB, 1 %, 0 MiB, 16151 MiB

===================================================
Benchmark completed for PARAMETR_SIZE=84, ANT_SIZE=1024!
Results saved in: results/
Execution time: 8.199671615 seconds
Number of GPUs used: 4
===================================================
Cooling down for 10 seconds...

===================================================
Testing with PARAMETR_SIZE=168
===================================================
Updating parameter file with PARAMETR_SIZE=168...
Updating parametrs.h with PARAMETR_SIZE=168 and NAME_FILE_GRAPH=Parametr_Graph/test168.txt
Successfully updated parametrs.h with PARAMETR_SIZE=168
Updating BLOCK_SIZE based on PARAM_SIZE...
Updating BLOCK_SIZE based on PARAM_SIZE=168
PARAM_SIZE=168 <= 2688, setting BLOCK_SIZE=64
Successfully updated parametrs.h with BLOCK_SIZE=64
Updating MPI settings in parametrs.h...
MPI settings updated
===================================================
Testing with PARAMETR_SIZE=168, ANT_SIZE=1024
===================================================
Updating parameter file with ANT_SIZE=1024...
Updating parametrs.h with ANT_SIZE=1024
Successfully updated parametrs.h with ANT_SIZE=1024
Compiling MPI CUDA program with arch=sm_70...
MPI compilation successful. Log saved to: results/compilation_logs/compile_size_168_ant_1024_20251228_180234.txt

===================================================
Running 4-GPU MPI ACO optimization...
===================================================

Start time: Sun Dec 28 18:02:42 MSK 2025
Launching with 4 MPI processes (one per GPU)...
Method 1: Simple 4-process MPI run
Process 0/4 using GPU 0: Tesla V100-SXM2-16GB (Compute 7.0)
Process 3/4 using GPU 3: Tesla V100-SXM2-16GB (Compute 7.0)
Process 1/4 using GPU 1: Tesla V100-SXM2-16GB (Compute 7.0)
Process 2/4 using GPU 2: Tesla V100-SXM2-16GB (Compute 7.0)
Memory bounds check:
  PARAMETR_SIZE: 168
  MAX_VALUE_SIZE: 5
  ANT_SIZE per process: 1024
  Total ants across all processes: 4096
  Total matrix elements: 840
Device 0: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 2.00222 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 4013021 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 1344 bytes (1.3125 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 6720 bytes (6.5625 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 1: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 2.00222 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 4013021 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 1344 bytes (1.3125 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 6720 bytes (6.5625 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 2: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 2.00222 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 4013021 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 1344 bytes (1.3125 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 6720 bytes (6.5625 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 3: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 2.00222 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 4013021 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 1344 bytes (1.3125 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 6720 bytes (6.5625 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
KOL_GPU: 4; PARAMETR_SIZE: 168; MAX_VALUE_SIZE: 5; SET_PARAMETR_SIZE_ONE_X: 21; ANT_SIZE: 1024; MAX_THREAD_CUDA: 512; NAME_FILE_GRAPH: Parametr_Graph/test168.txt; KOL_ITERATION: 500; KOL_PROGREV: 5; KOL_PROGON_STATISTICS: 50; PARAMETR_RO: 0.999; PARAMETR_Q: 1; PRINT_INFORMATION: 0; MAX_PARAMETR_VALUE_TO_MIN_OPT: 1; OPTIMIZE: OPTIMIZE_MIN_1 ; FUNCTION: SHAFFERA GO_HASH: 0; HASH_TABLE_SIZE: 1048576; ZERO_HASH_RESULT: -1; ZERO_HASH: 18446744073709551615; MAX_PROBES: 10000; MAX_CONST: 8192; MAX_SHARED: 49152; BLOCK_SIZE: 64; BIN_SEARCH: 0; NON_WHILE_ANT: 1; 
USE CONST MEMORY
USE SHARED MEMORY
Warmup 0
Warmup 1
Warmup 2
Warmup 3
Warmup 4
Run MPI Combined Run0: Time=100.088ms Kernel=0ms Probabilities=19.5057ms Ant=21.4589ms Update=0ms Memory=100.088ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=13.4588 MIN=0.00123005 MAX=1 
Run MPI Combined Run1: Time=97.2256ms Kernel=0ms Probabilities=19.4452ms Ant=21.1446ms Update=0ms Memory=97.2256ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=13.855 MIN=0.00123006 MAX=1 
Run MPI Combined Run2: Time=96.7057ms Kernel=0ms Probabilities=18.9993ms Ant=21.336ms Update=0ms Memory=96.7057ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=13.9295 MIN=0.00123006 MAX=1 
Run MPI Combined Run3: Time=96.784ms Kernel=0ms Probabilities=19.3772ms Ant=21.1374ms Update=0ms Memory=96.784ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=13.9183 MIN=0.00123005 MAX=1 
Run MPI Combined Run4: Time=96.5941ms Kernel=0ms Probabilities=19.3351ms Ant=21.421ms Update=0ms Memory=96.5941ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=13.9456 MIN=0.00123006 MAX=1 
Run MPI Combined Run5: Time=96.2555ms Kernel=0ms Probabilities=19.3097ms Ant=20.9961ms Update=0ms Memory=96.2555ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=13.9947 MIN=0.00123005 MAX=1 
Run MPI Combined Run6: Time=105.981ms Kernel=0ms Probabilities=19.7274ms Ant=21.5788ms Update=0ms Memory=105.981ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=12.7104 MIN=0.00123006 MAX=1 
Run MPI Combined Run7: Time=106.871ms Kernel=0ms Probabilities=20.0584ms Ant=21.2982ms Update=0ms Memory=106.871ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=12.6046 MIN=0.00123008 MAX=1 
Run MPI Combined Run8: Time=105.767ms Kernel=0ms Probabilities=20.2219ms Ant=21.5071ms Update=0ms Memory=105.767ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=12.7362 MIN=0.00123007 MAX=1 
Run MPI Combined Run9: Time=91.6547ms Kernel=0ms Probabilities=18.3319ms Ant=20.7402ms Update=0ms Memory=91.6547ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=14.6972 MIN=0.00123005 MAX=1 
Run MPI Combined Run10: Time=96.4243ms Kernel=0ms Probabilities=18.4151ms Ant=21.4333ms Update=0ms Memory=96.4243ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=13.9702 MIN=0.00123009 MAX=1 
Run MPI Combined Run11: Time=98.2625ms Kernel=0ms Probabilities=19.3187ms Ant=21.2439ms Update=0ms Memory=98.2625ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=13.7088 MIN=0.00123005 MAX=1 
Run MPI Combined Run12: Time=97.8443ms Kernel=0ms Probabilities=19.2027ms Ant=21.5347ms Update=0ms Memory=97.8443ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=13.7674 MIN=0.00123009 MAX=1 
Run MPI Combined Run13: Time=97.7225ms Kernel=0ms Probabilities=19.3579ms Ant=21.2409ms Update=0ms Memory=97.7225ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=13.7846 MIN=0.00123005 MAX=1 
Run MPI Combined Run14: Time=96.7822ms Kernel=0ms Probabilities=18.6995ms Ant=21.3565ms Update=0ms Memory=96.7822ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=13.9185 MIN=0.00123006 MAX=1 
Run MPI Combined Run15: Time=97.5042ms Kernel=0ms Probabilities=19.3189ms Ant=21.1087ms Update=0ms Memory=97.5042ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=13.8155 MIN=0.00123011 MAX=1 
Run MPI Combined Run16: Time=97.3532ms Kernel=0ms Probabilities=19.2726ms Ant=21.3965ms Update=0ms Memory=97.3532ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=13.8369 MIN=0.00123008 MAX=1 
Run MPI Combined Run17: Time=94.6799ms Kernel=0ms Probabilities=18.6721ms Ant=20.8394ms Update=0ms Memory=94.6799ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=14.2276 MIN=0.00123005 MAX=1 
Run MPI Combined Run18: Time=104.55ms Kernel=0ms Probabilities=19.2643ms Ant=21.5716ms Update=0ms Memory=104.55ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=12.8844 MIN=0.00123005 MAX=1 
Run MPI Combined Run19: Time=106.93ms Kernel=0ms Probabilities=20.0627ms Ant=21.3402ms Update=0ms Memory=106.93ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=12.5976 MIN=0.00123006 MAX=1 
Run MPI Combined Run20: Time=108.532ms Kernel=0ms Probabilities=19.9885ms Ant=21.5521ms Update=0ms Memory=108.532ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=12.4117 MIN=0.00123006 MAX=1 
Run MPI Combined Run21: Time=92.2991ms Kernel=0ms Probabilities=18.5994ms Ant=20.8876ms Update=0ms Memory=92.2991ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=14.5946 MIN=0.00123005 MAX=1 
Run MPI Combined Run22: Time=98.5381ms Kernel=0ms Probabilities=18.2501ms Ant=20.9521ms Update=0ms Memory=98.5381ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=13.6705 MIN=0.00123005 MAX=1 
Run MPI Combined Run23: Time=89.2526ms Kernel=0ms Probabilities=17.8716ms Ant=20.2599ms Update=0ms Memory=89.2526ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=15.0927 MIN=0.00123005 MAX=1 
Run MPI Combined Run24: Time=88.9411ms Kernel=0ms Probabilities=17.8354ms Ant=20.4647ms Update=0ms Memory=88.9411ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=15.1456 MIN=0.00123005 MAX=1 
Run MPI Combined Run25: Time=88.822ms Kernel=0ms Probabilities=17.665ms Ant=20.137ms Update=0ms Memory=88.822ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=15.1659 MIN=0.00123015 MAX=1 
Run MPI Combined Run26: Time=88.8846ms Kernel=0ms Probabilities=17.7423ms Ant=20.4657ms Update=0ms Memory=88.8846ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=15.1552 MIN=0.00123005 MAX=1 
Run MPI Combined Run27: Time=88.7303ms Kernel=0ms Probabilities=17.6559ms Ant=20.0366ms Update=0ms Memory=88.7303ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=15.1816 MIN=0.00123005 MAX=1 
Run MPI Combined Run28: Time=89.1063ms Kernel=0ms Probabilities=17.6477ms Ant=20.183ms Update=0ms Memory=89.1063ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=15.1175 MIN=0.00123005 MAX=1 
Run MPI Combined Run29: Time=88.5005ms Kernel=0ms Probabilities=17.6063ms Ant=19.8768ms Update=0ms Memory=88.5005ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=15.221 MIN=0.00123005 MAX=1 
Run MPI Combined Run30: Time=88.7636ms Kernel=0ms Probabilities=17.6287ms Ant=20.0274ms Update=0ms Memory=88.7636ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=15.1759 MIN=0.00123005 MAX=1 
Run MPI Combined Run31: Time=88.6083ms Kernel=0ms Probabilities=17.6451ms Ant=19.7642ms Update=0ms Memory=88.6083ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=15.2025 MIN=0.00123005 MAX=1 
Run MPI Combined Run32: Time=88.9371ms Kernel=0ms Probabilities=17.6389ms Ant=20.052ms Update=0ms Memory=88.9371ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=15.1463 MIN=0.00123005 MAX=1 
Run MPI Combined Run33: Time=88.6559ms Kernel=0ms Probabilities=17.6877ms Ant=19.8236ms Update=0ms Memory=88.6559ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=15.1943 MIN=0.00123005 MAX=1 
Run MPI Combined Run34: Time=88.905ms Kernel=0ms Probabilities=17.6083ms Ant=20.0356ms Update=0ms Memory=88.905ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=15.1517 MIN=0.00123005 MAX=1 
Run MPI Combined Run35: Time=88.8794ms Kernel=0ms Probabilities=17.6616ms Ant=19.8236ms Update=0ms Memory=88.8794ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=15.1561 MIN=0.00123005 MAX=1 
Run MPI Combined Run36: Time=88.873ms Kernel=0ms Probabilities=17.5833ms Ant=20.0397ms Update=0ms Memory=88.873ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=15.1572 MIN=0.00123006 MAX=1 
Run MPI Combined Run37: Time=88.8553ms Kernel=0ms Probabilities=17.6835ms Ant=19.7366ms Update=0ms Memory=88.8553ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=15.1602 MIN=0.00123005 MAX=1 
Run MPI Combined Run38: Time=88.8997ms Kernel=0ms Probabilities=17.5956ms Ant=20.0591ms Update=0ms Memory=88.8997ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=15.1526 MIN=0.00123007 MAX=1 
Run MPI Combined Run39: Time=88.5966ms Kernel=0ms Probabilities=17.6481ms Ant=19.7765ms Update=0ms Memory=88.5966ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=15.2045 MIN=0.00123005 MAX=1 
Run MPI Combined Run40: Time=88.7792ms Kernel=0ms Probabilities=17.621ms Ant=20.0151ms Update=0ms Memory=88.7792ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=15.1732 MIN=0.00123005 MAX=1 
Run MPI Combined Run41: Time=89.4769ms Kernel=0ms Probabilities=17.773ms Ant=19.8297ms Update=0ms Memory=89.4769ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=15.0549 MIN=0.00123005 MAX=1 
Run MPI Combined Run42: Time=89.4869ms Kernel=0ms Probabilities=17.5149ms Ant=20.1216ms Update=0ms Memory=89.4869ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=15.0532 MIN=0.00123005 MAX=1 
Run MPI Combined Run43: Time=88.8215ms Kernel=0ms Probabilities=17.7083ms Ant=19.7744ms Update=0ms Memory=88.8215ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=15.166 MIN=0.00123007 MAX=1 
Run MPI Combined Run44: Time=88.8962ms Kernel=0ms Probabilities=17.6632ms Ant=20.0868ms Update=0ms Memory=88.8962ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=15.1532 MIN=0.00123006 MAX=1 
Run MPI Combined Run45: Time=88.6799ms Kernel=0ms Probabilities=17.7003ms Ant=19.924ms Update=0ms Memory=88.6799ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=15.1902 MIN=0.00123005 MAX=1 
Run MPI Combined Run46: Time=88.8029ms Kernel=0ms Probabilities=17.5106ms Ant=20.0776ms Update=0ms Memory=88.8029ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=15.1692 MIN=0.00123005 MAX=1 
Run MPI Combined Run47: Time=88.7761ms Kernel=0ms Probabilities=17.7125ms Ant=19.7488ms Update=0ms Memory=88.7761ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=15.1737 MIN=0.00123005 MAX=1 
Run MPI Combined Run48: Time=89.1557ms Kernel=0ms Probabilities=17.7668ms Ant=20.0571ms Update=0ms Memory=89.1557ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=15.1091 MIN=0.00123005 MAX=1 
Run MPI Combined Run49: Time=88.746ms Kernel=0ms Probabilities=17.7059ms Ant=19.8287ms Update=0ms Memory=88.746ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=15.1789 MIN=0.00123005 MAX=1 
End time: Sun Dec 28 18:02:51 MSK 2025
Execution time: 8.556829135 seconds
MPI execution completed successfully
Log file saved to results
GPU utilization after run:
index, name, utilization.gpu [%], memory.used [MiB], memory.free [MiB]
0, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
1, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
2, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
3, Tesla V100-SXM2-16GB, 1 %, 0 MiB, 16151 MiB

===================================================
Benchmark completed for PARAMETR_SIZE=168, ANT_SIZE=1024!
Results saved in: results/
Execution time: 8.556829135 seconds
Number of GPUs used: 4
===================================================
Cooling down for 10 seconds...

===================================================
Testing with PARAMETR_SIZE=336
===================================================
Updating parameter file with PARAMETR_SIZE=336...
Updating parametrs.h with PARAMETR_SIZE=336 and NAME_FILE_GRAPH=Parametr_Graph/test336.txt
Successfully updated parametrs.h with PARAMETR_SIZE=336
Updating BLOCK_SIZE based on PARAM_SIZE...
Updating BLOCK_SIZE based on PARAM_SIZE=336
PARAM_SIZE=336 <= 2688, setting BLOCK_SIZE=64
Successfully updated parametrs.h with BLOCK_SIZE=64
Updating MPI settings in parametrs.h...
MPI settings updated
===================================================
Testing with PARAMETR_SIZE=336, ANT_SIZE=1024
===================================================
Updating parameter file with ANT_SIZE=1024...
Updating parametrs.h with ANT_SIZE=1024
Successfully updated parametrs.h with ANT_SIZE=1024
Compiling MPI CUDA program with arch=sm_70...
MPI compilation successful. Log saved to: results/compilation_logs/compile_size_336_ant_1024_20251228_180304.txt

===================================================
Running 4-GPU MPI ACO optimization...
===================================================

Start time: Sun Dec 28 18:03:12 MSK 2025
Launching with 4 MPI processes (one per GPU)...
Method 1: Simple 4-process MPI run
Process 2/4 using GPU 2: Tesla V100-SXM2-16GB (Compute 7.0)
Process 0/4 using GPU 0: Tesla V100-SXM2-16GB (Compute 7.0)
Process 3/4 using GPU 3: Tesla V100-SXM2-16GB (Compute 7.0)
Process 1/4 using GPU 1: Tesla V100-SXM2-16GB (Compute 7.0)
Memory bounds check:
  PARAMETR_SIZE: 336
  MAX_VALUE_SIZE: 5
  ANT_SIZE per process: 1024
  Total ants across all processes: 4096
  Total matrix elements: 1680
Device 0: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 3.9966 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 4013021 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 2688 bytes (2.625 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 13440 bytes (13.125 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 1: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 3.9966 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 4013021 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 2688 bytes (2.625 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 13440 bytes (13.125 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 2: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 3.9966 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 4013021 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 2688 bytes (2.625 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 13440 bytes (13.125 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 3: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 3.9966 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 4013021 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 2688 bytes (2.625 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 13440 bytes (13.125 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
KOL_GPU: 4; PARAMETR_SIZE: 336; MAX_VALUE_SIZE: 5; SET_PARAMETR_SIZE_ONE_X: 21; ANT_SIZE: 1024; MAX_THREAD_CUDA: 512; NAME_FILE_GRAPH: Parametr_Graph/test336.txt; KOL_ITERATION: 500; KOL_PROGREV: 5; KOL_PROGON_STATISTICS: 50; PARAMETR_RO: 0.999; PARAMETR_Q: 1; PRINT_INFORMATION: 0; MAX_PARAMETR_VALUE_TO_MIN_OPT: 1; OPTIMIZE: OPTIMIZE_MIN_1 ; FUNCTION: SHAFFERA GO_HASH: 0; HASH_TABLE_SIZE: 1048576; ZERO_HASH_RESULT: -1; ZERO_HASH: 18446744073709551615; MAX_PROBES: 10000; MAX_CONST: 8192; MAX_SHARED: 49152; BLOCK_SIZE: 64; BIN_SEARCH: 0; NON_WHILE_ANT: 1; 
USE CONST MEMORY
USE SHARED MEMORY
Warmup 0
Warmup 1
Warmup 2
Warmup 3
Warmup 4
Run MPI Combined Run0: Time=128.759ms Kernel=0ms Probabilities=22.8262ms Ant=29.3746ms Update=0ms Memory=128.759ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.8053 MIN=0.00123241 MAX=1 
Run MPI Combined Run1: Time=128.402ms Kernel=0ms Probabilities=22.7473ms Ant=29.2742ms Update=0ms Memory=128.402ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.8631 MIN=0.00123027 MAX=1 
Run MPI Combined Run2: Time=129.651ms Kernel=0ms Probabilities=22.8178ms Ant=29.4022ms Update=0ms Memory=129.651ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.6622 MIN=0.00123037 MAX=1 
Run MPI Combined Run3: Time=128.971ms Kernel=0ms Probabilities=22.6623ms Ant=29.307ms Update=0ms Memory=128.971ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.771 MIN=0.00123052 MAX=1 
Run MPI Combined Run4: Time=129.362ms Kernel=0ms Probabilities=22.2229ms Ant=29.179ms Update=0ms Memory=129.362ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.7083 MIN=0.00123119 MAX=1 
Run MPI Combined Run5: Time=141.689ms Kernel=0ms Probabilities=23.5723ms Ant=29.3684ms Update=0ms Memory=141.689ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=18.9067 MIN=0.00123006 MAX=1 
Run MPI Combined Run6: Time=144.235ms Kernel=0ms Probabilities=23.4568ms Ant=29.5374ms Update=0ms Memory=144.235ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=18.5729 MIN=0.00123017 MAX=1 
Run MPI Combined Run7: Time=125.152ms Kernel=0ms Probabilities=22.079ms Ant=29.1186ms Update=0ms Memory=125.152ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=21.405 MIN=0.00123028 MAX=1 
Run MPI Combined Run8: Time=128.579ms Kernel=0ms Probabilities=22.7866ms Ant=29.4063ms Update=0ms Memory=128.579ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.8344 MIN=0.00123115 MAX=1 
Run MPI Combined Run9: Time=129.318ms Kernel=0ms Probabilities=22.7718ms Ant=29.4033ms Update=0ms Memory=129.318ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.7154 MIN=0.00123289 MAX=1 
Run MPI Combined Run10: Time=129.138ms Kernel=0ms Probabilities=22.6985ms Ant=29.4411ms Update=0ms Memory=129.138ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.7443 MIN=0.0012307 MAX=1 
Run MPI Combined Run11: Time=129.41ms Kernel=0ms Probabilities=22.9017ms Ant=29.3459ms Update=0ms Memory=129.41ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.7007 MIN=0.00123202 MAX=1 
Run MPI Combined Run12: Time=129.577ms Kernel=0ms Probabilities=22.9018ms Ant=29.3684ms Update=0ms Memory=129.577ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.6739 MIN=0.00123043 MAX=1 
Run MPI Combined Run13: Time=132.316ms Kernel=0ms Probabilities=22.6604ms Ant=29.221ms Update=0ms Memory=132.316ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.246 MIN=0.00123006 MAX=1 
Run MPI Combined Run14: Time=143.806ms Kernel=0ms Probabilities=23.4806ms Ant=29.4381ms Update=0ms Memory=143.806ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=18.6284 MIN=0.00123027 MAX=1 
Run MPI Combined Run15: Time=145.027ms Kernel=0ms Probabilities=23.9775ms Ant=29.5169ms Update=0ms Memory=145.027ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=18.4716 MIN=0.00123038 MAX=1 
Run MPI Combined Run16: Time=124.641ms Kernel=0ms Probabilities=21.88ms Ant=29.0776ms Update=0ms Memory=124.641ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=21.4928 MIN=0.00123019 MAX=1 
Run MPI Combined Run17: Time=129.183ms Kernel=0ms Probabilities=22.5961ms Ant=29.2917ms Update=0ms Memory=129.183ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.7371 MIN=0.00123005 MAX=1 
Run MPI Combined Run18: Time=129.318ms Kernel=0ms Probabilities=22.6141ms Ant=29.3142ms Update=0ms Memory=129.318ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.7153 MIN=0.00123011 MAX=1 
Run MPI Combined Run19: Time=128.84ms Kernel=0ms Probabilities=22.6299ms Ant=29.3162ms Update=0ms Memory=128.84ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.7923 MIN=0.00123011 MAX=1 
Run MPI Combined Run20: Time=127.622ms Kernel=0ms Probabilities=22.2732ms Ant=29.1268ms Update=0ms Memory=127.622ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.9907 MIN=0.00123015 MAX=1 
Run MPI Combined Run21: Time=127.505ms Kernel=0ms Probabilities=22.167ms Ant=29.1114ms Update=0ms Memory=127.505ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=21.0099 MIN=0.00123013 MAX=1 
Run MPI Combined Run22: Time=131.012ms Kernel=0ms Probabilities=22.3712ms Ant=29.1934ms Update=0ms Memory=131.012ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.4475 MIN=0.00123015 MAX=1 
Run MPI Combined Run23: Time=143.12ms Kernel=0ms Probabilities=23.8825ms Ant=29.4637ms Update=0ms Memory=143.12ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=18.7177 MIN=0.00123023 MAX=1 
Run MPI Combined Run24: Time=145.333ms Kernel=0ms Probabilities=24.2387ms Ant=29.5886ms Update=0ms Memory=145.333ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=18.4327 MIN=0.00123006 MAX=1 
Run MPI Combined Run25: Time=121.336ms Kernel=0ms Probabilities=21.2715ms Ant=28.9804ms Update=0ms Memory=121.336ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.0781 MIN=0.00123007 MAX=1 
Run MPI Combined Run26: Time=127.699ms Kernel=0ms Probabilities=22.6204ms Ant=29.435ms Update=0ms Memory=127.699ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.978 MIN=0.00123008 MAX=1 
Run MPI Combined Run27: Time=129.756ms Kernel=0ms Probabilities=22.9565ms Ant=29.5036ms Update=0ms Memory=129.756ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.6455 MIN=0.00123151 MAX=1 
Run MPI Combined Run28: Time=131.2ms Kernel=0ms Probabilities=23.136ms Ant=29.523ms Update=0ms Memory=131.2ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.4182 MIN=0.00123007 MAX=1 
Run MPI Combined Run29: Time=131.697ms Kernel=0ms Probabilities=22.9207ms Ant=29.391ms Update=0ms Memory=131.697ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.3412 MIN=0.00123006 MAX=1 
Run MPI Combined Run30: Time=128.814ms Kernel=0ms Probabilities=22.5128ms Ant=29.3889ms Update=0ms Memory=128.814ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.7964 MIN=0.00123005 MAX=1 
Run MPI Combined Run31: Time=126.019ms Kernel=0ms Probabilities=22.2996ms Ant=29.2497ms Update=0ms Memory=126.019ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=21.2576 MIN=0.00123032 MAX=1 
Run MPI Combined Run32: Time=143.445ms Kernel=0ms Probabilities=23.7643ms Ant=29.4442ms Update=0ms Memory=143.445ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=18.6752 MIN=0.0012307 MAX=1 
Run MPI Combined Run33: Time=143.749ms Kernel=0ms Probabilities=23.6726ms Ant=29.5579ms Update=0ms Memory=143.749ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=18.6357 MIN=0.00123007 MAX=1 
Run MPI Combined Run34: Time=131.526ms Kernel=0ms Probabilities=22.5476ms Ant=29.3285ms Update=0ms Memory=131.526ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.3676 MIN=0.0012303 MAX=1 
Run MPI Combined Run35: Time=127.356ms Kernel=0ms Probabilities=22.5506ms Ant=29.2968ms Update=0ms Memory=127.356ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=21.0345 MIN=0.00123017 MAX=1 
Run MPI Combined Run36: Time=128.747ms Kernel=0ms Probabilities=22.6541ms Ant=28.9404ms Update=0ms Memory=128.747ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.8073 MIN=0.00123015 MAX=1 
Run MPI Combined Run37: Time=128.839ms Kernel=0ms Probabilities=22.5711ms Ant=28.8257ms Update=0ms Memory=128.839ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.7924 MIN=0.00123198 MAX=1 
Run MPI Combined Run38: Time=128.471ms Kernel=0ms Probabilities=22.3364ms Ant=28.838ms Update=0ms Memory=128.471ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.8519 MIN=0.00123006 MAX=1 
Run MPI Combined Run39: Time=128.113ms Kernel=0ms Probabilities=22.488ms Ant=28.7684ms Update=0ms Memory=128.113ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.9102 MIN=0.00123007 MAX=1 
Run MPI Combined Run40: Time=127.589ms Kernel=0ms Probabilities=22.2806ms Ant=28.7192ms Update=0ms Memory=127.589ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.996 MIN=0.00123395 MAX=1 
Run MPI Combined Run41: Time=142.156ms Kernel=0ms Probabilities=23.3748ms Ant=28.7971ms Update=0ms Memory=142.156ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=18.8445 MIN=0.00123016 MAX=1 
Run MPI Combined Run42: Time=142.691ms Kernel=0ms Probabilities=23.1124ms Ant=28.9691ms Update=0ms Memory=142.691ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=18.7739 MIN=0.00123006 MAX=1 
Run MPI Combined Run43: Time=131.622ms Kernel=0ms Probabilities=22.4595ms Ant=28.6219ms Update=0ms Memory=131.622ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.3528 MIN=0.00123048 MAX=1 
Run MPI Combined Run44: Time=127.892ms Kernel=0ms Probabilities=22.4807ms Ant=28.7674ms Update=0ms Memory=127.892ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.9463 MIN=0.00123055 MAX=1 
Run MPI Combined Run45: Time=129.716ms Kernel=0ms Probabilities=22.7877ms Ant=29.009ms Update=0ms Memory=129.716ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.6518 MIN=0.00123017 MAX=1 
Run MPI Combined Run46: Time=129.245ms Kernel=0ms Probabilities=22.5939ms Ant=28.9701ms Update=0ms Memory=129.245ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.7271 MIN=0.00123009 MAX=1 
Run MPI Combined Run47: Time=128.97ms Kernel=0ms Probabilities=22.6115ms Ant=28.8216ms Update=0ms Memory=128.97ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.7713 MIN=0.00123005 MAX=1 
Run MPI Combined Run48: Time=128.635ms Kernel=0ms Probabilities=22.7323ms Ant=28.9097ms Update=0ms Memory=128.635ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.8254 MIN=0.00123737 MAX=1 
Run MPI Combined Run49: Time=127.432ms Kernel=0ms Probabilities=22.2115ms Ant=28.6619ms Update=0ms Memory=127.432ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=21.022 MIN=0.00123127 MAX=1 
End time: Sun Dec 28 18:03:22 MSK 2025
Execution time: 9.460857924 seconds
MPI execution completed successfully
Log file saved to results
GPU utilization after run:
index, name, utilization.gpu [%], memory.used [MiB], memory.free [MiB]
0, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
1, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
2, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
3, Tesla V100-SXM2-16GB, 1 %, 0 MiB, 16151 MiB

===================================================
Benchmark completed for PARAMETR_SIZE=336, ANT_SIZE=1024!
Results saved in: results/
Execution time: 9.460857924 seconds
Number of GPUs used: 4
===================================================
Cooling down for 10 seconds...

===================================================
Testing with PARAMETR_SIZE=672
===================================================
Updating parameter file with PARAMETR_SIZE=672...
Updating parametrs.h with PARAMETR_SIZE=672 and NAME_FILE_GRAPH=Parametr_Graph/test672.txt
Successfully updated parametrs.h with PARAMETR_SIZE=672
Updating BLOCK_SIZE based on PARAM_SIZE...
Updating BLOCK_SIZE based on PARAM_SIZE=672
PARAM_SIZE=672 <= 2688, setting BLOCK_SIZE=64
Successfully updated parametrs.h with BLOCK_SIZE=64
Updating MPI settings in parametrs.h...
MPI settings updated
===================================================
Testing with PARAMETR_SIZE=672, ANT_SIZE=1024
===================================================
Updating parameter file with ANT_SIZE=1024...
Updating parametrs.h with ANT_SIZE=1024
Successfully updated parametrs.h with ANT_SIZE=1024
Compiling MPI CUDA program with arch=sm_70...
MPI compilation successful. Log saved to: results/compilation_logs/compile_size_672_ant_1024_20251228_180338.txt

===================================================
Running 4-GPU MPI ACO optimization...
===================================================

Start time: Sun Dec 28 18:03:46 MSK 2025
Launching with 4 MPI processes (one per GPU)...
Method 1: Simple 4-process MPI run
Process 1/4 using GPU 1: Tesla V100-SXM2-16GB (Compute 7.0)
Process 2/4 using GPU 2: Tesla V100-SXM2-16GB (Compute 7.0)
Process 0/4 using GPU 0: Tesla V100-SXM2-16GB (Compute 7.0)
Process 3/4 using GPU 3: Tesla V100-SXM2-16GB (Compute 7.0)
Memory bounds check:
  PARAMETR_SIZE: 672
  MAX_VALUE_SIZE: 5
  ANT_SIZE per process: 1024
  Total ants across all processes: 4096
  Total matrix elements: 3360
Device 0: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 7.98537 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 4013021 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 5376 bytes (5.25 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 26880 bytes (26.25 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 1: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 7.98537 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 4013021 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 5376 bytes (5.25 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 26880 bytes (26.25 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 2: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 7.98537 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 4013021 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 5376 bytes (5.25 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 26880 bytes (26.25 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 3: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 7.98537 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 4013021 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 5376 bytes (5.25 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 26880 bytes (26.25 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
KOL_GPU: 4; PARAMETR_SIZE: 672; MAX_VALUE_SIZE: 5; SET_PARAMETR_SIZE_ONE_X: 21; ANT_SIZE: 1024; MAX_THREAD_CUDA: 512; NAME_FILE_GRAPH: Parametr_Graph/test672.txt; KOL_ITERATION: 500; KOL_PROGREV: 5; KOL_PROGON_STATISTICS: 50; PARAMETR_RO: 0.999; PARAMETR_Q: 1; PRINT_INFORMATION: 0; MAX_PARAMETR_VALUE_TO_MIN_OPT: 1; OPTIMIZE: OPTIMIZE_MIN_1 ; FUNCTION: SHAFFERA GO_HASH: 0; HASH_TABLE_SIZE: 1048576; ZERO_HASH_RESULT: -1; ZERO_HASH: 18446744073709551615; MAX_PROBES: 10000; MAX_CONST: 8192; MAX_SHARED: 49152; BLOCK_SIZE: 64; BIN_SEARCH: 0; NON_WHILE_ANT: 1; 
USE CONST MEMORY
USE SHARED MEMORY
Warmup 0
Warmup 1
Warmup 2
Warmup 3
Warmup 4
Run MPI Combined Run0: Time=198.757ms Kernel=0ms Probabilities=27.6299ms Ant=48.4146ms Update=0ms Memory=198.757ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=26.8794 MIN=0.00333042 MAX=0.994927 
Run MPI Combined Run1: Time=198.788ms Kernel=0ms Probabilities=27.6885ms Ant=48.0266ms Update=0ms Memory=198.788ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=26.8753 MIN=0.010892 MAX=0.994433 
Run MPI Combined Run2: Time=222.699ms Kernel=0ms Probabilities=28.4859ms Ant=48.0808ms Update=0ms Memory=222.699ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=23.9898 MIN=0.00153052 MAX=0.995101 
Run MPI Combined Run3: Time=221.162ms Kernel=0ms Probabilities=29.0203ms Ant=47.9129ms Update=0ms Memory=221.162ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=24.1564 MIN=0.0108576 MAX=0.995106 
Run MPI Combined Run4: Time=196.811ms Kernel=0ms Probabilities=27.2764ms Ant=48.2293ms Update=0ms Memory=196.811ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.1452 MIN=0.00331367 MAX=0.995114 
Run MPI Combined Run5: Time=198.698ms Kernel=0ms Probabilities=27.5527ms Ant=48.0245ms Update=0ms Memory=198.698ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=26.8874 MIN=0.0108587 MAX=1 
Run MPI Combined Run6: Time=198.536ms Kernel=0ms Probabilities=27.041ms Ant=48.3368ms Update=0ms Memory=198.536ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=26.9094 MIN=0.0101885 MAX=0.995056 
Run MPI Combined Run7: Time=197.658ms Kernel=0ms Probabilities=27.4106ms Ant=48.0225ms Update=0ms Memory=197.658ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.029 MIN=0.00377346 MAX=1 
Run MPI Combined Run8: Time=206.547ms Kernel=0ms Probabilities=27.0865ms Ant=47.7285ms Update=0ms Memory=206.547ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.8657 MIN=0.0108576 MAX=0.994707 
Run MPI Combined Run9: Time=229.946ms Kernel=0ms Probabilities=29.4181ms Ant=47.9569ms Update=0ms Memory=229.946ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=23.2336 MIN=0.0108582 MAX=0.994983 
Run MPI Combined Run10: Time=196.181ms Kernel=0ms Probabilities=27.0829ms Ant=48.1075ms Update=0ms Memory=196.181ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.2324 MIN=0.0017349 MAX=1 
Run MPI Combined Run11: Time=199.645ms Kernel=0ms Probabilities=27.4888ms Ant=48.175ms Update=0ms Memory=199.645ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=26.7599 MIN=0.0108669 MAX=0.995077 
Run MPI Combined Run12: Time=199.687ms Kernel=0ms Probabilities=27.7866ms Ant=48.429ms Update=0ms Memory=199.687ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=26.7544 MIN=0.00331464 MAX=0.995084 
Run MPI Combined Run13: Time=197.666ms Kernel=0ms Probabilities=27.4899ms Ant=47.9477ms Update=0ms Memory=197.666ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.0278 MIN=0.00273423 MAX=0.994736 
Run MPI Combined Run14: Time=220.354ms Kernel=0ms Probabilities=28.4267ms Ant=48.0911ms Update=0ms Memory=220.354ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=24.245 MIN=0.0084837 MAX=0.994364 
Run MPI Combined Run15: Time=223.309ms Kernel=0ms Probabilities=29.1289ms Ant=47.8853ms Update=0ms Memory=223.309ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=23.9242 MIN=0.0102103 MAX=0.994535 
Run MPI Combined Run16: Time=195.864ms Kernel=0ms Probabilities=27.4204ms Ant=48.1699ms Update=0ms Memory=195.864ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.2764 MIN=0.00756531 MAX=1 
Run MPI Combined Run17: Time=201.502ms Kernel=0ms Probabilities=27.6958ms Ant=48.002ms Update=0ms Memory=201.502ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=26.5133 MIN=0.010989 MAX=0.994519 
Run MPI Combined Run18: Time=198.677ms Kernel=0ms Probabilities=27.1296ms Ant=48.2426ms Update=0ms Memory=198.677ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=26.8904 MIN=0.0109031 MAX=0.995013 
Run MPI Combined Run19: Time=197.1ms Kernel=0ms Probabilities=27.3833ms Ant=47.8831ms Update=0ms Memory=197.1ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.1055 MIN=0.00307958 MAX=0.995051 
Run MPI Combined Run20: Time=190.242ms Kernel=0ms Probabilities=26.3145ms Ant=47.6712ms Update=0ms Memory=190.242ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=28.0825 MIN=0.0108787 MAX=0.994346 
Run MPI Combined Run21: Time=188.665ms Kernel=0ms Probabilities=25.8126ms Ant=47.0937ms Update=0ms Memory=188.665ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=28.3174 MIN=0.00126784 MAX=0.995074 
Run MPI Combined Run22: Time=234.732ms Kernel=0ms Probabilities=29.1483ms Ant=48.2969ms Update=0ms Memory=234.732ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.76 MIN=0.0108835 MAX=0.999976 
Run MPI Combined Run23: Time=206.29ms Kernel=0ms Probabilities=28.0021ms Ant=47.7531ms Update=0ms Memory=206.29ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.8979 MIN=0.0110118 MAX=1 
Run MPI Combined Run24: Time=199.781ms Kernel=0ms Probabilities=27.714ms Ant=48.3911ms Update=0ms Memory=199.781ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=26.7418 MIN=0.00145722 MAX=0.993621 
Run MPI Combined Run25: Time=198.597ms Kernel=0ms Probabilities=27.4363ms Ant=47.9661ms Update=0ms Memory=198.597ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=26.9011 MIN=0.0106068 MAX=0.994745 
Run MPI Combined Run26: Time=197.168ms Kernel=0ms Probabilities=26.7622ms Ant=48.1422ms Update=0ms Memory=197.168ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.0961 MIN=0.0108617 MAX=0.994948 
Run MPI Combined Run27: Time=201.226ms Kernel=0ms Probabilities=27.3608ms Ant=47.6702ms Update=0ms Memory=201.226ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=26.5496 MIN=0.00123581 MAX=0.994851 
Run MPI Combined Run28: Time=235.124ms Kernel=0ms Probabilities=29.4616ms Ant=48.2498ms Update=0ms Memory=235.124ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.722 MIN=0.00712877 MAX=1 
Run MPI Combined Run29: Time=201.16ms Kernel=0ms Probabilities=27.7047ms Ant=47.6926ms Update=0ms Memory=201.16ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=26.5583 MIN=0.0108737 MAX=0.994824 
Run MPI Combined Run30: Time=200.187ms Kernel=0ms Probabilities=27.2671ms Ant=48.4525ms Update=0ms Memory=200.187ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=26.6875 MIN=0.00136353 MAX=1 
Run MPI Combined Run31: Time=199.07ms Kernel=0ms Probabilities=27.5173ms Ant=48.1361ms Update=0ms Memory=199.07ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=26.8372 MIN=0.0108706 MAX=1 
Run MPI Combined Run32: Time=198.98ms Kernel=0ms Probabilities=27.5091ms Ant=48.3931ms Update=0ms Memory=198.98ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=26.8494 MIN=0.0108614 MAX=0.994935 
Run MPI Combined Run33: Time=194.57ms Kernel=0ms Probabilities=27.2125ms Ant=47.7839ms Update=0ms Memory=194.57ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.4579 MIN=0.00173386 MAX=1 
Run MPI Combined Run34: Time=212.753ms Kernel=0ms Probabilities=27.4634ms Ant=47.7767ms Update=0ms Memory=212.753ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.1112 MIN=0.0108584 MAX=0.995116 
Run MPI Combined Run35: Time=228.037ms Kernel=0ms Probabilities=29.418ms Ant=48.0143ms Update=0ms Memory=228.037ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=23.4282 MIN=0.0108754 MAX=0.995115 
Run MPI Combined Run36: Time=194.876ms Kernel=0ms Probabilities=27.1656ms Ant=48.0542ms Update=0ms Memory=194.876ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.4148 MIN=0.0108669 MAX=0.994763 
Run MPI Combined Run37: Time=198.157ms Kernel=0ms Probabilities=27.4823ms Ant=47.9252ms Update=0ms Memory=198.157ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=26.9609 MIN=0.0109287 MAX=0.995112 
Run MPI Combined Run38: Time=197.91ms Kernel=0ms Probabilities=27.0733ms Ant=48.2754ms Update=0ms Memory=197.91ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=26.9945 MIN=0.0109338 MAX=0.995105 
Run MPI Combined Run39: Time=196.982ms Kernel=0ms Probabilities=27.4801ms Ant=47.9446ms Update=0ms Memory=196.982ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.1217 MIN=0.0109678 MAX=0.985089 
Run MPI Combined Run40: Time=227.102ms Kernel=0ms Probabilities=28.8421ms Ant=48.1842ms Update=0ms Memory=227.102ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=23.5246 MIN=0.0108963 MAX=0.995115 
Run MPI Combined Run41: Time=215.929ms Kernel=0ms Probabilities=28.7095ms Ant=47.7983ms Update=0ms Memory=215.929ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=24.7419 MIN=0.00353462 MAX=0.995104 
Run MPI Combined Run42: Time=197.438ms Kernel=0ms Probabilities=27.0631ms Ant=48.344ms Update=0ms Memory=197.438ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.0591 MIN=0.0108643 MAX=0.99504 
Run MPI Combined Run43: Time=199.473ms Kernel=0ms Probabilities=27.4384ms Ant=48.0368ms Update=0ms Memory=199.473ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=26.7829 MIN=0.0109549 MAX=0.994581 
Run MPI Combined Run44: Time=199.105ms Kernel=0ms Probabilities=27.7045ms Ant=48.2375ms Update=0ms Memory=199.105ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=26.8325 MIN=0.0108584 MAX=0.994931 
Run MPI Combined Run45: Time=198.487ms Kernel=0ms Probabilities=27.5685ms Ant=47.961ms Update=0ms Memory=198.487ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=26.916 MIN=0.0109071 MAX=0.99509 
Run MPI Combined Run46: Time=188.291ms Kernel=0ms Probabilities=26.0571ms Ant=47.5299ms Update=0ms Memory=188.291ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=28.3736 MIN=0.0109354 MAX=1 
Run MPI Combined Run47: Time=186ms Kernel=0ms Probabilities=25.6322ms Ant=47.0149ms Update=0ms Memory=186ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=28.723 MIN=0.0108581 MAX=0.99511 
Run MPI Combined Run48: Time=225.638ms Kernel=0ms Probabilities=28.8938ms Ant=48.0327ms Update=0ms Memory=225.638ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=23.6773 MIN=0.0108608 MAX=0.994177 
Run MPI Combined Run49: Time=216.111ms Kernel=0ms Probabilities=28.5345ms Ant=47.8146ms Update=0ms Memory=216.111ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=24.721 MIN=0.00824141 MAX=0.995027 
End time: Sun Dec 28 18:04:02 MSK 2025
Execution time: 16.153358598 seconds
MPI execution completed successfully
Log file saved to results
GPU utilization after run:
index, name, utilization.gpu [%], memory.used [MiB], memory.free [MiB]
0, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
1, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
2, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
3, Tesla V100-SXM2-16GB, 1 %, 0 MiB, 16151 MiB

===================================================
Benchmark completed for PARAMETR_SIZE=672, ANT_SIZE=1024!
Results saved in: results/
Execution time: 16.153358598 seconds
Number of GPUs used: 4
===================================================
Cooling down for 10 seconds...

===================================================
Testing with PARAMETR_SIZE=1344
===================================================
Updating parameter file with PARAMETR_SIZE=1344...
Updating parametrs.h with PARAMETR_SIZE=1344 and NAME_FILE_GRAPH=Parametr_Graph/test1344.txt
Successfully updated parametrs.h with PARAMETR_SIZE=1344
Updating BLOCK_SIZE based on PARAM_SIZE...
Updating BLOCK_SIZE based on PARAM_SIZE=1344
PARAM_SIZE=1344 <= 2688, setting BLOCK_SIZE=64
Successfully updated parametrs.h with BLOCK_SIZE=64
Updating MPI settings in parametrs.h...
MPI settings updated
===================================================
Testing with PARAMETR_SIZE=1344, ANT_SIZE=1024
===================================================
Updating parameter file with ANT_SIZE=1024...
Updating parametrs.h with ANT_SIZE=1024
Successfully updated parametrs.h with ANT_SIZE=1024
Compiling MPI CUDA program with arch=sm_70...
MPI compilation successful. Log saved to: results/compilation_logs/compile_size_1344_ant_1024_20251228_180417.txt

===================================================
Running 4-GPU MPI ACO optimization...
===================================================

Start time: Sun Dec 28 18:04:25 MSK 2025
Launching with 4 MPI processes (one per GPU)...
Method 1: Simple 4-process MPI run
Process 1/4 using GPU 1: Tesla V100-SXM2-16GB (Compute 7.0)
Process 0/4 using GPU 0: Tesla V100-SXM2-16GB (Compute 7.0)
Process 2/4 using GPU 2: Tesla V100-SXM2-16GB (Compute 7.0)
Process 3/4 using GPU 3: Tesla V100-SXM2-16GB (Compute 7.0)
Memory bounds check:
  PARAMETR_SIZE: 1344
  MAX_VALUE_SIZE: 5
  ANT_SIZE per process: 1024
  Total ants across all processes: 4096
  Total matrix elements: 6720
Device 0: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 15.9629 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 4013021 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 10752 bytes (10.5 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 53760 bytes (52.5 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 1: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 15.9629 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 4013021 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 10752 bytes (10.5 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 53760 bytes (52.5 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 2: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 15.9629 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 4013021 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 10752 bytes (10.5 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 53760 bytes (52.5 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 3: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 15.9629 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 4013021 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 10752 bytes (10.5 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 53760 bytes (52.5 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
KOL_GPU: 4; PARAMETR_SIZE: 1344; MAX_VALUE_SIZE: 5; SET_PARAMETR_SIZE_ONE_X: 21; ANT_SIZE: 1024; MAX_THREAD_CUDA: 512; NAME_FILE_GRAPH: Parametr_Graph/test1344.txt; KOL_ITERATION: 500; KOL_PROGREV: 5; KOL_PROGON_STATISTICS: 50; PARAMETR_RO: 0.999; PARAMETR_Q: 1; PRINT_INFORMATION: 0; MAX_PARAMETR_VALUE_TO_MIN_OPT: 1; OPTIMIZE: OPTIMIZE_MIN_1 ; FUNCTION: SHAFFERA GO_HASH: 0; HASH_TABLE_SIZE: 1048576; ZERO_HASH_RESULT: -1; ZERO_HASH: 18446744073709551615; MAX_PROBES: 10000; MAX_CONST: 8192; MAX_SHARED: 49152; BLOCK_SIZE: 64; BIN_SEARCH: 0; NON_WHILE_ANT: 1; 
USE CONST MEMORY
USE SHARED MEMORY
Warmup 0
Warmup 1
Warmup 2
Warmup 3
Warmup 4
Run MPI Combined Run0: Time=321.199ms Kernel=0ms Probabilities=37.9563ms Ant=97.8934ms Update=0ms Memory=321.199ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.2184 MIN=0.0629332 MAX=0.954141 
Run MPI Combined Run1: Time=382.905ms Kernel=0ms Probabilities=41.444ms Ant=98.4576ms Update=0ms Memory=382.905ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.8651 MIN=0.0556585 MAX=0.931572 
Run MPI Combined Run2: Time=320.648ms Kernel=0ms Probabilities=37.6248ms Ant=97.8575ms Update=0ms Memory=320.648ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.2755 MIN=0.0558524 MAX=0.931722 
Run MPI Combined Run3: Time=321.834ms Kernel=0ms Probabilities=38.0638ms Ant=98.4883ms Update=0ms Memory=321.834ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.1528 MIN=0.0609103 MAX=0.931831 
Run MPI Combined Run4: Time=350.424ms Kernel=0ms Probabilities=39.7756ms Ant=97.9547ms Update=0ms Memory=350.424ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=30.448 MIN=0.0540965 MAX=0.959225 
Run MPI Combined Run5: Time=333.834ms Kernel=0ms Probabilities=39.2293ms Ant=98.264ms Update=0ms Memory=333.834ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=31.9611 MIN=0.0541517 MAX=0.931836 
Run MPI Combined Run6: Time=316.035ms Kernel=0ms Probabilities=38.0572ms Ant=98.0521ms Update=0ms Memory=316.035ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.7611 MIN=0.0544695 MAX=0.931742 
Run MPI Combined Run7: Time=313.864ms Kernel=0ms Probabilities=37.769ms Ant=98.0294ms Update=0ms Memory=313.864ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.9947 MIN=0.0571448 MAX=0.931815 
Run MPI Combined Run8: Time=369.214ms Kernel=0ms Probabilities=41.8021ms Ant=98.0981ms Update=0ms Memory=369.214ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=28.8984 MIN=0.0549159 MAX=0.948012 
Run MPI Combined Run9: Time=312.96ms Kernel=0ms Probabilities=37.6166ms Ant=98.2149ms Update=0ms Memory=312.96ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=34.0929 MIN=0.0626297 MAX=0.958861 
Run MPI Combined Run10: Time=315.11ms Kernel=0ms Probabilities=37.7417ms Ant=98.0449ms Update=0ms Memory=315.11ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.8602 MIN=0.0563142 MAX=0.948897 
Run MPI Combined Run11: Time=332.879ms Kernel=0ms Probabilities=39.3795ms Ant=98.4155ms Update=0ms Memory=332.879ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=32.0528 MIN=0.0547316 MAX=0.931836 
Run MPI Combined Run12: Time=346.845ms Kernel=0ms Probabilities=40.2006ms Ant=98.0664ms Update=0ms Memory=346.845ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=30.7622 MIN=0.0549641 MAX=0.956331 
Run MPI Combined Run13: Time=316.851ms Kernel=0ms Probabilities=38.4464ms Ant=98.5098ms Update=0ms Memory=316.851ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.6742 MIN=0.0546357 MAX=0.929754 
Run MPI Combined Run14: Time=315.27ms Kernel=0ms Probabilities=37.9798ms Ant=97.9538ms Update=0ms Memory=315.27ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.8431 MIN=0.0547298 MAX=0.931654 
Run MPI Combined Run15: Time=357.12ms Kernel=0ms Probabilities=40.7087ms Ant=98.5681ms Update=0ms Memory=357.12ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.8771 MIN=0.0617027 MAX=0.931815 
Run MPI Combined Run16: Time=325.107ms Kernel=0ms Probabilities=38.7892ms Ant=97.9312ms Update=0ms Memory=325.107ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=32.8191 MIN=0.0542446 MAX=0.93177 
Run MPI Combined Run17: Time=317.817ms Kernel=0ms Probabilities=38.3064ms Ant=98.5025ms Update=0ms Memory=317.817ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.5719 MIN=0.0539108 MAX=0.931827 
Run MPI Combined Run18: Time=317.846ms Kernel=0ms Probabilities=37.8907ms Ant=98.1084ms Update=0ms Memory=317.846ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.5688 MIN=0.0543101 MAX=0.93179 
Run MPI Combined Run19: Time=365.126ms Kernel=0ms Probabilities=41.622ms Ant=98.5395ms Update=0ms Memory=365.126ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.222 MIN=0.0539743 MAX=0.93106 
Run MPI Combined Run20: Time=314.324ms Kernel=0ms Probabilities=38.1058ms Ant=98.1309ms Update=0ms Memory=314.324ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.9449 MIN=0.054043 MAX=0.93366 
Run MPI Combined Run21: Time=314.156ms Kernel=0ms Probabilities=37.7853ms Ant=98.1699ms Update=0ms Memory=314.156ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.9631 MIN=0.0561451 MAX=0.955567 
Run MPI Combined Run22: Time=338.89ms Kernel=0ms Probabilities=39.1733ms Ant=97.8841ms Update=0ms Memory=338.89ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=31.4843 MIN=0.0637574 MAX=0.959145 
Run MPI Combined Run23: Time=339.091ms Kernel=0ms Probabilities=39.624ms Ant=98.2384ms Update=0ms Memory=339.091ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=31.4656 MIN=0.0567193 MAX=0.931833 
Run MPI Combined Run24: Time=317.139ms Kernel=0ms Probabilities=38.465ms Ant=98.178ms Update=0ms Memory=317.139ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.6437 MIN=0.062147 MAX=0.956722 
Run MPI Combined Run25: Time=315.384ms Kernel=0ms Probabilities=38.1883ms Ant=98.3776ms Update=0ms Memory=315.384ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.8308 MIN=0.083266 MAX=0.942275 
Run MPI Combined Run26: Time=364.649ms Kernel=0ms Probabilities=40.9704ms Ant=98.1422ms Update=0ms Memory=364.649ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.2602 MIN=0.0570079 MAX=0.931792 
Run MPI Combined Run27: Time=315.352ms Kernel=0ms Probabilities=38.1137ms Ant=98.3705ms Update=0ms Memory=315.352ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.8343 MIN=0.0539578 MAX=0.959224 
Run MPI Combined Run28: Time=317.87ms Kernel=0ms Probabilities=38.6587ms Ant=98.093ms Update=0ms Memory=317.87ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.5663 MIN=0.0646148 MAX=0.93183 
Run MPI Combined Run29: Time=312.499ms Kernel=0ms Probabilities=37.8506ms Ant=98.2753ms Update=0ms Memory=312.499ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=34.1432 MIN=0.0723111 MAX=0.931673 
Run MPI Combined Run30: Time=367.007ms Kernel=0ms Probabilities=41.2151ms Ant=98.1156ms Update=0ms Memory=367.007ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.0722 MIN=0.0554486 MAX=0.949829 
Run MPI Combined Run31: Time=313.02ms Kernel=0ms Probabilities=37.6895ms Ant=98.3869ms Update=0ms Memory=313.02ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=34.0863 MIN=0.054021 MAX=0.956809 
Run MPI Combined Run32: Time=316.438ms Kernel=0ms Probabilities=38.5542ms Ant=98.0049ms Update=0ms Memory=316.438ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.7182 MIN=0.0539435 MAX=0.930068 
Run MPI Combined Run33: Time=335.585ms Kernel=0ms Probabilities=39.6391ms Ant=98.3644ms Update=0ms Memory=335.585ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=31.7944 MIN=0.0362688 MAX=0.930339 
Run MPI Combined Run34: Time=342.786ms Kernel=0ms Probabilities=39.5797ms Ant=97.9835ms Update=0ms Memory=342.786ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=31.1264 MIN=0.0832725 MAX=0.954384 
Run MPI Combined Run35: Time=318.395ms Kernel=0ms Probabilities=38.3514ms Ant=98.823ms Update=0ms Memory=318.395ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.5109 MIN=0.0483035 MAX=0.931809 
Run MPI Combined Run36: Time=316.871ms Kernel=0ms Probabilities=38.3975ms Ant=98.1852ms Update=0ms Memory=316.871ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.6721 MIN=0.0562495 MAX=0.931768 
Run MPI Combined Run37: Time=360.148ms Kernel=0ms Probabilities=40.7577ms Ant=98.5118ms Update=0ms Memory=360.148ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.6259 MIN=0.0539844 MAX=0.93158 
Run MPI Combined Run38: Time=319.932ms Kernel=0ms Probabilities=38.3435ms Ant=97.8759ms Update=0ms Memory=319.932ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.3499 MIN=0.0553032 MAX=0.931578 
Run MPI Combined Run39: Time=317.43ms Kernel=0ms Probabilities=38.5247ms Ant=98.4894ms Update=0ms Memory=317.43ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.6128 MIN=0.0539275 MAX=0.954831 
Run MPI Combined Run40: Time=319.066ms Kernel=0ms Probabilities=38.3608ms Ant=97.878ms Update=0ms Memory=319.066ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.4404 MIN=0.0581082 MAX=0.931737 
Run MPI Combined Run41: Time=358.06ms Kernel=0ms Probabilities=40.6468ms Ant=98.5374ms Update=0ms Memory=358.06ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.7986 MIN=0.0548745 MAX=0.948786 
Run MPI Combined Run42: Time=314.285ms Kernel=0ms Probabilities=37.5045ms Ant=98.1134ms Update=0ms Memory=314.285ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.9491 MIN=0.0431862 MAX=0.958761 
Run MPI Combined Run43: Time=316.045ms Kernel=0ms Probabilities=38.1038ms Ant=98.5814ms Update=0ms Memory=316.045ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.76 MIN=0.0290381 MAX=0.930642 
Run MPI Combined Run44: Time=344.795ms Kernel=0ms Probabilities=40.0439ms Ant=98.0643ms Update=0ms Memory=344.795ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=30.9451 MIN=0.0319127 MAX=0.931829 
Run MPI Combined Run45: Time=335.848ms Kernel=0ms Probabilities=39.1373ms Ant=98.39ms Update=0ms Memory=335.848ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=31.7695 MIN=0.0832557 MAX=0.959204 
Run MPI Combined Run46: Time=316.259ms Kernel=0ms Probabilities=37.8326ms Ant=98.1801ms Update=0ms Memory=316.259ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.7372 MIN=0.0566076 MAX=0.940394 
Run MPI Combined Run47: Time=316.681ms Kernel=0ms Probabilities=38.2329ms Ant=98.5026ms Update=0ms Memory=316.681ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.6923 MIN=0.0589702 MAX=0.931599 
Run MPI Combined Run48: Time=362.548ms Kernel=0ms Probabilities=40.708ms Ant=98.1902ms Update=0ms Memory=362.548ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.4298 MIN=0.0539746 MAX=0.931766 
Run MPI Combined Run49: Time=314.872ms Kernel=0ms Probabilities=38.1264ms Ant=98.3715ms Update=0ms Memory=314.872ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.8858 MIN=0.055679 MAX=0.931737 
End time: Sun Dec 28 18:04:48 MSK 2025
Execution time: 23.230265651 seconds
MPI execution completed successfully
Log file saved to results
GPU utilization after run:
index, name, utilization.gpu [%], memory.used [MiB], memory.free [MiB]
0, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
1, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
2, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
3, Tesla V100-SXM2-16GB, 3 %, 0 MiB, 16151 MiB

===================================================
Benchmark completed for PARAMETR_SIZE=1344, ANT_SIZE=1024!
Results saved in: results/
Execution time: 23.230265651 seconds
Number of GPUs used: 4
===================================================
Cooling down for 10 seconds...

===================================================
Testing with PARAMETR_SIZE=2688
===================================================
Updating parameter file with PARAMETR_SIZE=2688...
Updating parametrs.h with PARAMETR_SIZE=2688 and NAME_FILE_GRAPH=Parametr_Graph/test2688.txt
Successfully updated parametrs.h with PARAMETR_SIZE=2688
Updating BLOCK_SIZE based on PARAM_SIZE...
Updating BLOCK_SIZE based on PARAM_SIZE=2688
PARAM_SIZE=2688 <= 2688, setting BLOCK_SIZE=64
Successfully updated parametrs.h with BLOCK_SIZE=64
Updating MPI settings in parametrs.h...
MPI settings updated
===================================================
Testing with PARAMETR_SIZE=2688, ANT_SIZE=1024
===================================================
Updating parameter file with ANT_SIZE=1024...
Updating parametrs.h with ANT_SIZE=1024
Successfully updated parametrs.h with ANT_SIZE=1024
Compiling MPI CUDA program with arch=sm_70...
MPI compilation successful. Log saved to: results/compilation_logs/compile_size_2688_ant_1024_20251228_180503.txt

===================================================
Running 4-GPU MPI ACO optimization...
===================================================

Start time: Sun Dec 28 18:05:11 MSK 2025
Launching with 4 MPI processes (one per GPU)...
Method 1: Simple 4-process MPI run
Process 0/4 using GPU 0: Tesla V100-SXM2-16GB (Compute 7.0)
Process 3/4 using GPU 3: Tesla V100-SXM2-16GB (Compute 7.0)
Process 2/4 using GPU 2: Tesla V100-SXM2-16GB (Compute 7.0)
Process 1/4 using GPU 1: Tesla V100-SXM2-16GB (Compute 7.0)
Memory bounds check:
  PARAMETR_SIZE: 2688
  MAX_VALUE_SIZE: 5
  ANT_SIZE per process: 1024
  Total ants across all processes: 4096
  Total matrix elements: 13440
Device 0: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 31.918 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 3975304 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 21504 bytes (21 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 107520 bytes (105 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 1: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 31.918 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 3975304 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 21504 bytes (21 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 107520 bytes (105 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 2: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 31.918 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 3975304 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 21504 bytes (21 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 107520 bytes (105 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 3: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 31.918 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 3975304 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 21504 bytes (21 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 107520 bytes (105 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
KOL_GPU: 4; PARAMETR_SIZE: 2688; MAX_VALUE_SIZE: 5; SET_PARAMETR_SIZE_ONE_X: 21; ANT_SIZE: 1024; MAX_THREAD_CUDA: 512; NAME_FILE_GRAPH: Parametr_Graph/test2688.txt; KOL_ITERATION: 500; KOL_PROGREV: 5; KOL_PROGON_STATISTICS: 50; PARAMETR_RO: 0.999; PARAMETR_Q: 1; PRINT_INFORMATION: 0; MAX_PARAMETR_VALUE_TO_MIN_OPT: 1; OPTIMIZE: OPTIMIZE_MIN_1 ; FUNCTION: SHAFFERA GO_HASH: 0; HASH_TABLE_SIZE: 1048576; ZERO_HASH_RESULT: -1; ZERO_HASH: 18446744073709551615; MAX_PROBES: 10000; MAX_CONST: 8192; MAX_SHARED: 49152; BLOCK_SIZE: 64; BIN_SEARCH: 0; NON_WHILE_ANT: 1; 
USE SHARED MEMORY
Warmup 0
Warmup 1
Warmup 2
Warmup 3
Warmup 4
Run MPI Combined Run0: Time=655.313ms Kernel=0ms Probabilities=64.345ms Ant=227.534ms Update=0ms Memory=655.313ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=32.5404 MIN=0.180347 MAX=0.836973 
Run MPI Combined Run1: Time=705.709ms Kernel=0ms Probabilities=67.785ms Ant=228.089ms Update=0ms Memory=705.709ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=30.2166 MIN=0.178477 MAX=0.806466 
Run MPI Combined Run2: Time=632.398ms Kernel=0ms Probabilities=62.2422ms Ant=226.951ms Update=0ms Memory=632.398ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.7195 MIN=0.178823 MAX=0.835429 
Run MPI Combined Run3: Time=698.965ms Kernel=0ms Probabilities=66.7629ms Ant=227.836ms Update=0ms Memory=698.965ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=30.5082 MIN=0.149541 MAX=0.830216 
Run MPI Combined Run4: Time=635.891ms Kernel=0ms Probabilities=62.3316ms Ant=227.044ms Update=0ms Memory=635.891ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.5343 MIN=0.17862 MAX=0.808396 
Run MPI Combined Run5: Time=701.704ms Kernel=0ms Probabilities=66.9858ms Ant=228.146ms Update=0ms Memory=701.704ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=30.3891 MIN=0.149128 MAX=0.834438 
Run MPI Combined Run6: Time=640.623ms Kernel=0ms Probabilities=63.3484ms Ant=227.609ms Update=0ms Memory=640.623ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.2866 MIN=0.195183 MAX=0.835953 
Run MPI Combined Run7: Time=692.607ms Kernel=0ms Probabilities=66.8091ms Ant=227.98ms Update=0ms Memory=692.607ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=30.7882 MIN=0.197721 MAX=0.805767 
Run MPI Combined Run8: Time=668.851ms Kernel=0ms Probabilities=64.7711ms Ant=227.483ms Update=0ms Memory=668.851ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=31.8818 MIN=0.179631 MAX=0.83324 
Run MPI Combined Run9: Time=663.691ms Kernel=0ms Probabilities=64.8911ms Ant=227.601ms Update=0ms Memory=663.691ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=32.1297 MIN=0.182014 MAX=0.806474 
Run MPI Combined Run10: Time=695.341ms Kernel=0ms Probabilities=66.4124ms Ant=227.77ms Update=0ms Memory=695.341ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=30.6672 MIN=0.178485 MAX=0.828565 
Run MPI Combined Run11: Time=638.02ms Kernel=0ms Probabilities=63.336ms Ant=227.589ms Update=0ms Memory=638.02ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.4224 MIN=0.185012 MAX=0.833911 
Run MPI Combined Run12: Time=701.05ms Kernel=0ms Probabilities=66.7841ms Ant=227.753ms Update=0ms Memory=701.05ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=30.4175 MIN=0.180346 MAX=0.806363 
Run MPI Combined Run13: Time=635.268ms Kernel=0ms Probabilities=62.6207ms Ant=227.371ms Update=0ms Memory=635.268ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.5672 MIN=0.178539 MAX=0.821952 
Run MPI Combined Run14: Time=698.152ms Kernel=0ms Probabilities=66.9949ms Ant=227.874ms Update=0ms Memory=698.152ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=30.5437 MIN=0.147636 MAX=0.806194 
Run MPI Combined Run15: Time=641.207ms Kernel=0ms Probabilities=62.9185ms Ant=227.512ms Update=0ms Memory=641.207ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.2563 MIN=0.179091 MAX=0.824381 
Run MPI Combined Run16: Time=692.378ms Kernel=0ms Probabilities=66.7243ms Ant=227.657ms Update=0ms Memory=692.378ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=30.7984 MIN=0.178971 MAX=0.835845 
Run MPI Combined Run17: Time=669.751ms Kernel=0ms Probabilities=64.6899ms Ant=227.743ms Update=0ms Memory=669.751ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=31.8389 MIN=0.178544 MAX=0.806467 
Run MPI Combined Run18: Time=663.603ms Kernel=0ms Probabilities=64.6745ms Ant=227.259ms Update=0ms Memory=663.603ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=32.1339 MIN=0.162715 MAX=0.830961 
Run MPI Combined Run19: Time=700.769ms Kernel=0ms Probabilities=67.3379ms Ant=228.07ms Update=0ms Memory=700.769ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=30.4296 MIN=0.17869 MAX=0.806473 
Run MPI Combined Run20: Time=630.303ms Kernel=0ms Probabilities=61.7811ms Ant=227.013ms Update=0ms Memory=630.303ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.8316 MIN=0.178722 MAX=0.83597 
Run MPI Combined Run21: Time=699.428ms Kernel=0ms Probabilities=66.978ms Ant=228.112ms Update=0ms Memory=699.428ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=30.488 MIN=0.178503 MAX=0.806383 
Run MPI Combined Run22: Time=635.498ms Kernel=0ms Probabilities=62.3775ms Ant=226.949ms Update=0ms Memory=635.498ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.5551 MIN=0.178848 MAX=0.806474 
Run MPI Combined Run23: Time=698.211ms Kernel=0ms Probabilities=66.8395ms Ant=228.014ms Update=0ms Memory=698.211ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=30.5411 MIN=0.1787 MAX=0.836351 
Run MPI Combined Run24: Time=642.7ms Kernel=0ms Probabilities=62.9205ms Ant=226.964ms Update=0ms Memory=642.7ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.179 MIN=0.18077 MAX=0.826967 
Run MPI Combined Run25: Time=693.229ms Kernel=0ms Probabilities=66.4754ms Ant=228.071ms Update=0ms Memory=693.229ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=30.7606 MIN=0.187985 MAX=0.815957 
Run MPI Combined Run26: Time=669.841ms Kernel=0ms Probabilities=64.658ms Ant=227.237ms Update=0ms Memory=669.841ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=31.8346 MIN=0.187577 MAX=0.834665 
Run MPI Combined Run27: Time=662.522ms Kernel=0ms Probabilities=64.6291ms Ant=227.615ms Update=0ms Memory=662.522ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=32.1863 MIN=0.178485 MAX=0.806463 
Run MPI Combined Run28: Time=700.327ms Kernel=0ms Probabilities=67.0153ms Ant=227.667ms Update=0ms Memory=700.327ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=30.4489 MIN=0.156548 MAX=0.827417 
Run MPI Combined Run29: Time=632.633ms Kernel=0ms Probabilities=62.199ms Ant=227.325ms Update=0ms Memory=632.633ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.707 MIN=0.182629 MAX=0.806472 
Run MPI Combined Run30: Time=695.242ms Kernel=0ms Probabilities=66.4149ms Ant=227.467ms Update=0ms Memory=695.242ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=30.6716 MIN=0.178456 MAX=0.836909 
Run MPI Combined Run31: Time=635.061ms Kernel=0ms Probabilities=62.5444ms Ant=227.36ms Update=0ms Memory=635.061ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.5781 MIN=0.178487 MAX=0.827139 
Run MPI Combined Run32: Time=699.032ms Kernel=0ms Probabilities=67.0052ms Ant=227.601ms Update=0ms Memory=699.032ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=30.5053 MIN=0.178483 MAX=0.829048 
Run MPI Combined Run33: Time=631.431ms Kernel=0ms Probabilities=62.2389ms Ant=227.431ms Update=0ms Memory=631.431ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.7711 MIN=0.196855 MAX=0.820498 
Run MPI Combined Run34: Time=696.968ms Kernel=0ms Probabilities=66.8035ms Ant=227.546ms Update=0ms Memory=696.968ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=30.5956 MIN=0.178455 MAX=0.806474 
Run MPI Combined Run35: Time=664.369ms Kernel=0ms Probabilities=64.0884ms Ant=227.639ms Update=0ms Memory=664.369ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=32.0969 MIN=0.178497 MAX=0.82512 
Run MPI Combined Run36: Time=665.918ms Kernel=0ms Probabilities=64.8637ms Ant=227.248ms Update=0ms Memory=665.918ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=32.0222 MIN=0.17846 MAX=0.806467 
Run MPI Combined Run37: Time=697.533ms Kernel=0ms Probabilities=66.3381ms Ant=227.879ms Update=0ms Memory=697.533ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=30.5708 MIN=0.181119 MAX=0.806388 
Run MPI Combined Run38: Time=635.406ms Kernel=0ms Probabilities=62.9681ms Ant=226.976ms Update=0ms Memory=635.406ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.5599 MIN=0.17864 MAX=0.834336 
Run MPI Combined Run39: Time=697.441ms Kernel=0ms Probabilities=66.8877ms Ant=228.011ms Update=0ms Memory=697.441ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=30.5749 MIN=0.162208 MAX=0.836823 
Run MPI Combined Run40: Time=634.47ms Kernel=0ms Probabilities=62.9377ms Ant=226.835ms Update=0ms Memory=634.47ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.6094 MIN=0.178525 MAX=0.83177 
Run MPI Combined Run41: Time=699.947ms Kernel=0ms Probabilities=67.1139ms Ant=227.865ms Update=0ms Memory=699.947ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=30.4654 MIN=0.178521 MAX=0.827089 
Run MPI Combined Run42: Time=634.017ms Kernel=0ms Probabilities=62.9806ms Ant=226.95ms Update=0ms Memory=634.017ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.6334 MIN=0.181808 MAX=0.80718 
Run MPI Combined Run43: Time=700.401ms Kernel=0ms Probabilities=67.1048ms Ant=228.045ms Update=0ms Memory=700.401ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=30.4457 MIN=0.178514 MAX=0.81118 
Run MPI Combined Run44: Time=659.563ms Kernel=0ms Probabilities=64.0138ms Ant=227.298ms Update=0ms Memory=659.563ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=32.3307 MIN=0.17858 MAX=0.806416 
Run MPI Combined Run45: Time=674.216ms Kernel=0ms Probabilities=65.563ms Ant=227.782ms Update=0ms Memory=674.216ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=31.6281 MIN=0.178582 MAX=0.806469 
Run MPI Combined Run46: Time=682.15ms Kernel=0ms Probabilities=65.3908ms Ant=227.357ms Update=0ms Memory=682.15ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=31.2602 MIN=0.18948 MAX=0.806418 
Run MPI Combined Run47: Time=650.045ms Kernel=0ms Probabilities=63.9985ms Ant=227.653ms Update=0ms Memory=650.045ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=32.8041 MIN=0.169744 MAX=0.831492 
Run MPI Combined Run48: Time=701.588ms Kernel=0ms Probabilities=67.5901ms Ant=227.575ms Update=0ms Memory=701.588ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=30.3941 MIN=0.178495 MAX=0.83635 
Run MPI Combined Run49: Time=642.05ms Kernel=0ms Probabilities=62.3725ms Ant=227.473ms Update=0ms Memory=642.05ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=33.2126 MIN=0.178838 MAX=0.826588 
End time: Sun Dec 28 18:05:52 MSK 2025
Execution time: 40.932095691 seconds
MPI execution completed successfully
Log file saved to results
GPU utilization after run:
index, name, utilization.gpu [%], memory.used [MiB], memory.free [MiB]
0, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
1, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
2, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
3, Tesla V100-SXM2-16GB, 1 %, 0 MiB, 16151 MiB

===================================================
Benchmark completed for PARAMETR_SIZE=2688, ANT_SIZE=1024!
Results saved in: results/
Execution time: 40.932095691 seconds
Number of GPUs used: 4
===================================================
Cooling down for 10 seconds...

===================================================
Testing with PARAMETR_SIZE=5376
===================================================
Updating parameter file with PARAMETR_SIZE=5376...
Updating parametrs.h with PARAMETR_SIZE=5376 and NAME_FILE_GRAPH=Parametr_Graph/test5376.txt
Successfully updated parametrs.h with PARAMETR_SIZE=5376
Updating BLOCK_SIZE based on PARAM_SIZE...
Updating BLOCK_SIZE based on PARAM_SIZE=5376
PARAM_SIZE=5376 > 2688, setting BLOCK_SIZE=256
Successfully updated parametrs.h with BLOCK_SIZE=256
Updating MPI settings in parametrs.h...
MPI settings updated
===================================================
Testing with PARAMETR_SIZE=5376, ANT_SIZE=1024
===================================================
Updating parameter file with ANT_SIZE=1024...
Updating parametrs.h with ANT_SIZE=1024
Successfully updated parametrs.h with ANT_SIZE=1024
Compiling MPI CUDA program with arch=sm_70...
MPI compilation successful. Log saved to: results/compilation_logs/compile_size_5376_ant_1024_20251228_180608.txt

===================================================
Running 4-GPU MPI ACO optimization...
===================================================

Start time: Sun Dec 28 18:06:16 MSK 2025
Launching with 4 MPI processes (one per GPU)...
Method 1: Simple 4-process MPI run
Process 0/4 using GPU 0: Tesla V100-SXM2-16GB (Compute 7.0)
Process 3/4 using GPU 3: Tesla V100-SXM2-16GB (Compute 7.0)
Process 1/4 using GPU 1: Tesla V100-SXM2-16GB (Compute 7.0)
Process 2/4 using GPU 2: Tesla V100-SXM2-16GB (Compute 7.0)
Memory bounds check:
  PARAMETR_SIZE: 5376
  MAX_VALUE_SIZE: 5
  ANT_SIZE per process: 1024
  Total ants across all processes: 4096
  Total matrix elements: 26880
Device 0: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 63.8281 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 3975304 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 43008 bytes (42 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 215040 bytes (210 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 1: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 63.8281 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 3975304 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 43008 bytes (42 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 215040 bytes (210 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 2: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 63.8281 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 3975304 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 43008 bytes (42 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 215040 bytes (210 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 3: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 63.8281 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 3975304 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 43008 bytes (42 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 215040 bytes (210 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
KOL_GPU: 4; PARAMETR_SIZE: 5376; MAX_VALUE_SIZE: 5; SET_PARAMETR_SIZE_ONE_X: 21; ANT_SIZE: 1024; MAX_THREAD_CUDA: 512; NAME_FILE_GRAPH: Parametr_Graph/test5376.txt; KOL_ITERATION: 500; KOL_PROGREV: 5; KOL_PROGON_STATISTICS: 50; PARAMETR_RO: 0.999; PARAMETR_Q: 1; PRINT_INFORMATION: 0; MAX_PARAMETR_VALUE_TO_MIN_OPT: 1; OPTIMIZE: OPTIMIZE_MIN_1 ; FUNCTION: SHAFFERA GO_HASH: 0; HASH_TABLE_SIZE: 1048576; ZERO_HASH_RESULT: -1; ZERO_HASH: 18446744073709551615; MAX_PROBES: 10000; MAX_CONST: 8192; MAX_SHARED: 49152; BLOCK_SIZE: 256; BIN_SEARCH: 0; NON_WHILE_ANT: 1; 
USE SHARED MEMORY
Warmup 0
Warmup 1
Warmup 2
Warmup 3
Warmup 4
Run MPI Combined Run0: Time=1548.61ms Kernel=0ms Probabilities=121.429ms Ant=710.624ms Update=0ms Memory=1548.61ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.53 MIN=0.30332 MAX=0.689436 
Run MPI Combined Run1: Time=1589.14ms Kernel=0ms Probabilities=123.664ms Ant=710.71ms Update=0ms Memory=1589.14ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=26.8277 MIN=0.303825 MAX=0.68743 
Run MPI Combined Run2: Time=1541.88ms Kernel=0ms Probabilities=120.145ms Ant=710.981ms Update=0ms Memory=1541.88ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.65 MIN=0.30346 MAX=0.687176 
Run MPI Combined Run3: Time=1542.69ms Kernel=0ms Probabilities=122.086ms Ant=711.248ms Update=0ms Memory=1542.69ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.6356 MIN=0.303942 MAX=0.687022 
Run MPI Combined Run4: Time=1575.35ms Kernel=0ms Probabilities=123.068ms Ant=711.312ms Update=0ms Memory=1575.35ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.0626 MIN=0.307983 MAX=0.68743 
Run MPI Combined Run5: Time=1560.47ms Kernel=0ms Probabilities=121.871ms Ant=711.544ms Update=0ms Memory=1560.47ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.3207 MIN=0.30889 MAX=0.687431 
Run MPI Combined Run6: Time=1543.76ms Kernel=0ms Probabilities=121.581ms Ant=710.924ms Update=0ms Memory=1543.76ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.6164 MIN=0.303292 MAX=0.687409 
Run MPI Combined Run7: Time=1546.82ms Kernel=0ms Probabilities=122.068ms Ant=710.263ms Update=0ms Memory=1546.82ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.5618 MIN=0.303306 MAX=0.704713 
Run MPI Combined Run8: Time=1590.24ms Kernel=0ms Probabilities=123.924ms Ant=712.003ms Update=0ms Memory=1590.24ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=26.8091 MIN=0.306392 MAX=0.687223 
Run MPI Combined Run9: Time=1540.91ms Kernel=0ms Probabilities=121.416ms Ant=710.536ms Update=0ms Memory=1540.91ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.6675 MIN=0.304402 MAX=0.696766 
Run MPI Combined Run10: Time=1542.32ms Kernel=0ms Probabilities=121.964ms Ant=711.225ms Update=0ms Memory=1542.32ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.6422 MIN=0.315286 MAX=0.68379 
Run MPI Combined Run11: Time=1578.15ms Kernel=0ms Probabilities=122.357ms Ant=711.187ms Update=0ms Memory=1578.15ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.0146 MIN=0.303466 MAX=0.687415 
Run MPI Combined Run12: Time=1552.95ms Kernel=0ms Probabilities=122.031ms Ant=710.741ms Update=0ms Memory=1552.95ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.4529 MIN=0.306672 MAX=0.706233 
Run MPI Combined Run13: Time=1537.63ms Kernel=0ms Probabilities=120.484ms Ant=710.982ms Update=0ms Memory=1537.63ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.7264 MIN=0.304055 MAX=0.701767 
Run MPI Combined Run14: Time=1539.09ms Kernel=0ms Probabilities=120.625ms Ant=711.781ms Update=0ms Memory=1539.09ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.7002 MIN=0.303421 MAX=0.68739 
Run MPI Combined Run15: Time=1591.13ms Kernel=0ms Probabilities=124.235ms Ant=711.487ms Update=0ms Memory=1591.13ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=26.7943 MIN=0.304377 MAX=0.687431 
Run MPI Combined Run16: Time=1542.09ms Kernel=0ms Probabilities=121.414ms Ant=711.528ms Update=0ms Memory=1542.09ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.6462 MIN=0.305824 MAX=0.687341 
Run MPI Combined Run17: Time=1539.57ms Kernel=0ms Probabilities=121.52ms Ant=711.402ms Update=0ms Memory=1539.57ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.6914 MIN=0.303819 MAX=0.706413 
Run MPI Combined Run18: Time=1580.15ms Kernel=0ms Probabilities=123.594ms Ant=710.221ms Update=0ms Memory=1580.15ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=26.9804 MIN=0.303757 MAX=0.687266 
Run MPI Combined Run19: Time=1557.89ms Kernel=0ms Probabilities=123.178ms Ant=711.097ms Update=0ms Memory=1557.89ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.3659 MIN=0.311965 MAX=0.697447 
Run MPI Combined Run20: Time=1540.6ms Kernel=0ms Probabilities=122.038ms Ant=712.674ms Update=0ms Memory=1540.6ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.6731 MIN=0.306417 MAX=0.68729 
Run MPI Combined Run21: Time=1550.97ms Kernel=0ms Probabilities=122.456ms Ant=710.949ms Update=0ms Memory=1550.97ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.4881 MIN=0.31951 MAX=0.687329 
Run MPI Combined Run22: Time=1587.76ms Kernel=0ms Probabilities=124.515ms Ant=710.822ms Update=0ms Memory=1587.76ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=26.851 MIN=0.304092 MAX=0.687406 
Run MPI Combined Run23: Time=1544.95ms Kernel=0ms Probabilities=122.304ms Ant=712.423ms Update=0ms Memory=1544.95ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.595 MIN=0.303587 MAX=0.687388 
Run MPI Combined Run24: Time=1539.92ms Kernel=0ms Probabilities=122.114ms Ant=710.935ms Update=0ms Memory=1539.92ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.6852 MIN=0.310842 MAX=0.687099 
Run MPI Combined Run25: Time=1564.37ms Kernel=0ms Probabilities=122.225ms Ant=710.686ms Update=0ms Memory=1564.37ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.2525 MIN=0.321327 MAX=0.702269 
Run MPI Combined Run26: Time=1561.56ms Kernel=0ms Probabilities=120.732ms Ant=712.027ms Update=0ms Memory=1561.56ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.3016 MIN=0.303394 MAX=0.705091 
Run MPI Combined Run27: Time=1542.81ms Kernel=0ms Probabilities=122.115ms Ant=710.978ms Update=0ms Memory=1542.81ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.6333 MIN=0.283273 MAX=0.687381 
Run MPI Combined Run28: Time=1541.16ms Kernel=0ms Probabilities=122.093ms Ant=710.691ms Update=0ms Memory=1541.16ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.663 MIN=0.321328 MAX=0.687417 
Run MPI Combined Run29: Time=1574.49ms Kernel=0ms Probabilities=122.383ms Ant=711.936ms Update=0ms Memory=1574.49ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.0773 MIN=0.306802 MAX=0.687333 
Run MPI Combined Run30: Time=1561.38ms Kernel=0ms Probabilities=122.238ms Ant=711.218ms Update=0ms Memory=1561.38ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.3048 MIN=0.303478 MAX=0.687428 
Run MPI Combined Run31: Time=1542.43ms Kernel=0ms Probabilities=121.482ms Ant=711.26ms Update=0ms Memory=1542.43ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.6403 MIN=0.304729 MAX=0.687289 
Run MPI Combined Run32: Time=1541.31ms Kernel=0ms Probabilities=121.795ms Ant=711.904ms Update=0ms Memory=1541.31ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.6602 MIN=0.303322 MAX=0.687429 
Run MPI Combined Run33: Time=1602.79ms Kernel=0ms Probabilities=125.353ms Ant=710.65ms Update=0ms Memory=1602.79ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=26.5992 MIN=0.303517 MAX=0.68671 
Run MPI Combined Run34: Time=1532.71ms Kernel=0ms Probabilities=119.437ms Ant=710.206ms Update=0ms Memory=1532.71ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.8155 MIN=0.303743 MAX=0.70428 
Run MPI Combined Run35: Time=1543.14ms Kernel=0ms Probabilities=121.898ms Ant=711.955ms Update=0ms Memory=1543.14ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.6274 MIN=0.308505 MAX=0.687431 
Run MPI Combined Run36: Time=1538.17ms Kernel=0ms Probabilities=120.319ms Ant=710.121ms Update=0ms Memory=1538.17ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.7167 MIN=0.303654 MAX=0.704925 
Run MPI Combined Run37: Time=1587.73ms Kernel=0ms Probabilities=124.295ms Ant=710.878ms Update=0ms Memory=1587.73ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=26.8517 MIN=0.321403 MAX=0.687426 
Run MPI Combined Run38: Time=1539.64ms Kernel=0ms Probabilities=121.329ms Ant=710.923ms Update=0ms Memory=1539.64ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.6903 MIN=0.308394 MAX=0.694045 
Run MPI Combined Run39: Time=1537.72ms Kernel=0ms Probabilities=121.354ms Ant=711.003ms Update=0ms Memory=1537.72ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.7248 MIN=0.303816 MAX=0.686303 
Run MPI Combined Run40: Time=1581.28ms Kernel=0ms Probabilities=122.349ms Ant=710.725ms Update=0ms Memory=1581.28ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=26.9611 MIN=0.287765 MAX=0.687407 
Run MPI Combined Run41: Time=1553.49ms Kernel=0ms Probabilities=121.787ms Ant=711.105ms Update=0ms Memory=1553.49ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.4434 MIN=0.308368 MAX=0.687409 
Run MPI Combined Run42: Time=1535.76ms Kernel=0ms Probabilities=120.488ms Ant=710.361ms Update=0ms Memory=1535.76ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.7603 MIN=0.305438 MAX=0.706323 
Run MPI Combined Run43: Time=1554.09ms Kernel=0ms Probabilities=121.072ms Ant=710.002ms Update=0ms Memory=1554.09ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.4328 MIN=0.321327 MAX=0.687295 
Run MPI Combined Run44: Time=1580.31ms Kernel=0ms Probabilities=123.338ms Ant=711.574ms Update=0ms Memory=1580.31ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=26.9777 MIN=0.319388 MAX=0.687412 
Run MPI Combined Run45: Time=1544.68ms Kernel=0ms Probabilities=123.008ms Ant=710.963ms Update=0ms Memory=1544.68ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.6 MIN=0.303384 MAX=0.704731 
Run MPI Combined Run46: Time=1541.53ms Kernel=0ms Probabilities=122.302ms Ant=710.999ms Update=0ms Memory=1541.53ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.6564 MIN=0.303308 MAX=0.687419 
Run MPI Combined Run47: Time=1594.26ms Kernel=0ms Probabilities=125.609ms Ant=712.207ms Update=0ms Memory=1594.26ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=26.7416 MIN=0.305193 MAX=0.68735 
Run MPI Combined Run48: Time=1539.29ms Kernel=0ms Probabilities=120.461ms Ant=710.565ms Update=0ms Memory=1539.29ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.6966 MIN=0.303298 MAX=0.68743 
Run MPI Combined Run49: Time=1542.57ms Kernel=0ms Probabilities=121.25ms Ant=710.016ms Update=0ms Memory=1542.57ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.6377 MIN=0.303703 MAX=0.687428 
End time: Sun Dec 28 18:07:46 MSK 2025
Execution time: 89.667749196 seconds
MPI execution completed successfully
Log file saved to results
GPU utilization after run:
index, name, utilization.gpu [%], memory.used [MiB], memory.free [MiB]
0, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
1, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
2, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
3, Tesla V100-SXM2-16GB, 1 %, 0 MiB, 16151 MiB

===================================================
Benchmark completed for PARAMETR_SIZE=5376, ANT_SIZE=1024!
Results saved in: results/
Execution time: 89.667749196 seconds
Number of GPUs used: 4
===================================================
Cooling down for 10 seconds...

===================================================
Testing with PARAMETR_SIZE=10752
===================================================
Updating parameter file with PARAMETR_SIZE=10752...
Updating parametrs.h with PARAMETR_SIZE=10752 and NAME_FILE_GRAPH=Parametr_Graph/test10752.txt
Successfully updated parametrs.h with PARAMETR_SIZE=10752
Updating BLOCK_SIZE based on PARAM_SIZE...
Updating BLOCK_SIZE based on PARAM_SIZE=10752
PARAM_SIZE=10752 > 2688, setting BLOCK_SIZE=256
Successfully updated parametrs.h with BLOCK_SIZE=256
Updating MPI settings in parametrs.h...
MPI settings updated
===================================================
Testing with PARAMETR_SIZE=10752, ANT_SIZE=1024
===================================================
Updating parameter file with ANT_SIZE=1024...
Updating parametrs.h with ANT_SIZE=1024
Successfully updated parametrs.h with ANT_SIZE=1024
Compiling MPI CUDA program with arch=sm_70...
MPI compilation successful. Log saved to: results/compilation_logs/compile_size_10752_ant_1024_20251228_180803.txt

===================================================
Running 4-GPU MPI ACO optimization...
===================================================

Start time: Sun Dec 28 18:08:11 MSK 2025
Launching with 4 MPI processes (one per GPU)...
Method 1: Simple 4-process MPI run
Process 0/4 using GPU 0: Tesla V100-SXM2-16GB (Compute 7.0)
Process 2/4 using GPU 2: Tesla V100-SXM2-16GB (Compute 7.0)
Process 3/4 using GPU 3: Tesla V100-SXM2-16GB (Compute 7.0)
Process 1/4 using GPU 1: Tesla V100-SXM2-16GB (Compute 7.0)
Memory bounds check:
  PARAMETR_SIZE: 10752
  MAX_VALUE_SIZE: 5
  ANT_SIZE per process: 1024
  Total ants across all processes: 4096
  Total matrix elements: 53760
Device 0: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 127.648 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 3975304 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 86016 bytes (84 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 430080 bytes (420 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 1: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 127.648 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 3975304 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 86016 bytes (84 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 430080 bytes (420 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 2: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 127.648 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 3975304 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 86016 bytes (84 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 430080 bytes (420 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 3: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 127.648 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 3975304 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 86016 bytes (84 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 430080 bytes (420 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
KOL_GPU: 4; PARAMETR_SIZE: 10752; MAX_VALUE_SIZE: 5; SET_PARAMETR_SIZE_ONE_X: 21; ANT_SIZE: 1024; MAX_THREAD_CUDA: 512; NAME_FILE_GRAPH: Parametr_Graph/test10752.txt; KOL_ITERATION: 500; KOL_PROGREV: 5; KOL_PROGON_STATISTICS: 50; PARAMETR_RO: 0.999; PARAMETR_Q: 1; PRINT_INFORMATION: 0; MAX_PARAMETR_VALUE_TO_MIN_OPT: 1; OPTIMIZE: OPTIMIZE_MIN_1 ; FUNCTION: SHAFFERA GO_HASH: 0; HASH_TABLE_SIZE: 1048576; ZERO_HASH_RESULT: -1; ZERO_HASH: 18446744073709551615; MAX_PROBES: 10000; MAX_CONST: 8192; MAX_SHARED: 49152; BLOCK_SIZE: 256; BIN_SEARCH: 0; NON_WHILE_ANT: 1; 
USE SHARED MEMORY
Warmup 0
Warmup 1
Warmup 2
Warmup 3
Warmup 4
Run MPI Combined Run0: Time=2920.78ms Kernel=0ms Probabilities=259.243ms Ant=1234.24ms Update=0ms Memory=2920.78ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.1877 MIN=0.403063 MAX=0.60101 
Run MPI Combined Run1: Time=2884.01ms Kernel=0ms Probabilities=256.877ms Ant=1223.86ms Update=0ms Memory=2884.01ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.5598 MIN=0.401909 MAX=0.600843 
Run MPI Combined Run2: Time=2912.35ms Kernel=0ms Probabilities=255.461ms Ant=1243.93ms Update=0ms Memory=2912.35ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.2721 MIN=0.402951 MAX=0.599991 
Run MPI Combined Run3: Time=2975.11ms Kernel=0ms Probabilities=259.342ms Ant=1233.85ms Update=0ms Memory=2975.11ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=28.6547 MIN=0.402865 MAX=0.600926 
Run MPI Combined Run4: Time=2919.6ms Kernel=0ms Probabilities=257.003ms Ant=1224.1ms Update=0ms Memory=2919.6ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.1995 MIN=0.402862 MAX=0.600051 
Run MPI Combined Run5: Time=2980.73ms Kernel=0ms Probabilities=261.782ms Ant=1242.54ms Update=0ms Memory=2980.73ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=28.6006 MIN=0.403028 MAX=0.594489 
Run MPI Combined Run6: Time=2913.33ms Kernel=0ms Probabilities=255.39ms Ant=1233.83ms Update=0ms Memory=2913.33ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.2623 MIN=0.402873 MAX=0.601062 
Run MPI Combined Run7: Time=2956.98ms Kernel=0ms Probabilities=258.921ms Ant=1224.48ms Update=0ms Memory=2956.98ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=28.8304 MIN=0.402886 MAX=0.601009 
Run MPI Combined Run8: Time=2934ms Kernel=0ms Probabilities=256.147ms Ant=1226.55ms Update=0ms Memory=2934ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.0561 MIN=0.396503 MAX=0.601062 
Run MPI Combined Run9: Time=2913.7ms Kernel=0ms Probabilities=255.402ms Ant=1232.82ms Update=0ms Memory=2913.7ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.2587 MIN=0.402897 MAX=0.600954 
Run MPI Combined Run10: Time=2974.82ms Kernel=0ms Probabilities=260.693ms Ant=1225.37ms Update=0ms Memory=2974.82ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=28.6574 MIN=0.395457 MAX=0.606446 
Run MPI Combined Run11: Time=2920.8ms Kernel=0ms Probabilities=258.029ms Ant=1226.58ms Update=0ms Memory=2920.8ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.1875 MIN=0.402873 MAX=0.600863 
Run MPI Combined Run12: Time=2968.53ms Kernel=0ms Probabilities=258.974ms Ant=1233.26ms Update=0ms Memory=2968.53ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=28.7182 MIN=0.402866 MAX=0.597163 
Run MPI Combined Run13: Time=2912.94ms Kernel=0ms Probabilities=256.748ms Ant=1225.33ms Update=0ms Memory=2912.94ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.2663 MIN=0.402869 MAX=0.596866 
Run MPI Combined Run14: Time=2923.27ms Kernel=0ms Probabilities=263.631ms Ant=1226.79ms Update=0ms Memory=2923.27ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.1628 MIN=0.400837 MAX=0.601061 
Run MPI Combined Run15: Time=2913.57ms Kernel=0ms Probabilities=259.308ms Ant=1233.02ms Update=0ms Memory=2913.57ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.26 MIN=0.39561 MAX=0.598409 
Run MPI Combined Run16: Time=2881.95ms Kernel=0ms Probabilities=256.164ms Ant=1226.41ms Update=0ms Memory=2881.95ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.581 MIN=0.402891 MAX=0.593421 
Run MPI Combined Run17: Time=2936.8ms Kernel=0ms Probabilities=257.319ms Ant=1230.34ms Update=0ms Memory=2936.8ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.0285 MIN=0.402866 MAX=0.59975 
Run MPI Combined Run18: Time=2889.6ms Kernel=0ms Probabilities=256.912ms Ant=1229.62ms Update=0ms Memory=2889.6ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.5026 MIN=0.402862 MAX=0.601028 
Run MPI Combined Run19: Time=2879.53ms Kernel=0ms Probabilities=255.58ms Ant=1226.35ms Update=0ms Memory=2879.53ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.6058 MIN=0.402863 MAX=0.601049 
Run MPI Combined Run20: Time=2934.88ms Kernel=0ms Probabilities=259.36ms Ant=1229.43ms Update=0ms Memory=2934.88ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.0475 MIN=0.402883 MAX=0.601029 
Run MPI Combined Run21: Time=2868.46ms Kernel=0ms Probabilities=256.734ms Ant=1228.68ms Update=0ms Memory=2868.46ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.7201 MIN=0.402894 MAX=0.599263 
Run MPI Combined Run22: Time=2905.38ms Kernel=0ms Probabilities=256.885ms Ant=1233.16ms Update=0ms Memory=2905.38ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.3425 MIN=0.402232 MAX=0.601062 
Run MPI Combined Run23: Time=2906.72ms Kernel=0ms Probabilities=256.475ms Ant=1240.04ms Update=0ms Memory=2906.72ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.3289 MIN=0.395532 MAX=0.595285 
Run MPI Combined Run24: Time=2873.2ms Kernel=0ms Probabilities=255.673ms Ant=1229.55ms Update=0ms Memory=2873.2ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.6711 MIN=0.402866 MAX=0.601062 
Run MPI Combined Run25: Time=2928ms Kernel=0ms Probabilities=258.812ms Ant=1235.37ms Update=0ms Memory=2928ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.1158 MIN=0.402864 MAX=0.605007 
Run MPI Combined Run26: Time=2886.95ms Kernel=0ms Probabilities=257.565ms Ant=1240.28ms Update=0ms Memory=2886.95ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.5297 MIN=0.402869 MAX=0.600144 
Run MPI Combined Run27: Time=2878.22ms Kernel=0ms Probabilities=254.147ms Ant=1228.99ms Update=0ms Memory=2878.22ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.6193 MIN=0.402871 MAX=0.600915 
Run MPI Combined Run28: Time=2926.01ms Kernel=0ms Probabilities=259.882ms Ant=1238.05ms Update=0ms Memory=2926.01ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.1356 MIN=0.402868 MAX=0.60099 
Run MPI Combined Run29: Time=2880.99ms Kernel=0ms Probabilities=256.567ms Ant=1240.59ms Update=0ms Memory=2880.99ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.5908 MIN=0.402869 MAX=0.599488 
Run MPI Combined Run30: Time=2940.27ms Kernel=0ms Probabilities=260.364ms Ant=1234.26ms Update=0ms Memory=2940.27ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=28.9942 MIN=0.399208 MAX=0.60376 
Run MPI Combined Run31: Time=2871.02ms Kernel=0ms Probabilities=253.831ms Ant=1223.93ms Update=0ms Memory=2871.02ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.6936 MIN=0.402979 MAX=0.601055 
Run MPI Combined Run32: Time=2873.84ms Kernel=0ms Probabilities=254.316ms Ant=1232.93ms Update=0ms Memory=2873.84ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.6645 MIN=0.40294 MAX=0.600882 
Run MPI Combined Run33: Time=2927.32ms Kernel=0ms Probabilities=259.724ms Ant=1231.73ms Update=0ms Memory=2927.32ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.1225 MIN=0.402898 MAX=0.59342 
Run MPI Combined Run34: Time=2879.72ms Kernel=0ms Probabilities=256.449ms Ant=1224.43ms Update=0ms Memory=2879.72ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.6039 MIN=0.402862 MAX=0.599389 
Run MPI Combined Run35: Time=2925.78ms Kernel=0ms Probabilities=260.44ms Ant=1226.48ms Update=0ms Memory=2925.78ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.1378 MIN=0.395884 MAX=0.597817 
Run MPI Combined Run36: Time=2885.5ms Kernel=0ms Probabilities=257.71ms Ant=1232.78ms Update=0ms Memory=2885.5ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.5446 MIN=0.40289 MAX=0.594507 
Run MPI Combined Run37: Time=2883.78ms Kernel=0ms Probabilities=256.019ms Ant=1224.05ms Update=0ms Memory=2883.78ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.5622 MIN=0.399278 MAX=0.60092 
Run MPI Combined Run38: Time=2925.35ms Kernel=0ms Probabilities=258.12ms Ant=1227.57ms Update=0ms Memory=2925.35ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.1421 MIN=0.402977 MAX=0.601062 
Run MPI Combined Run39: Time=2878.64ms Kernel=0ms Probabilities=256.277ms Ant=1234.64ms Update=0ms Memory=2878.64ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.615 MIN=0.402865 MAX=0.598701 
Run MPI Combined Run40: Time=2897.49ms Kernel=0ms Probabilities=255.93ms Ant=1224.64ms Update=0ms Memory=2897.49ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.4224 MIN=0.402876 MAX=0.600374 
Run MPI Combined Run41: Time=2904.61ms Kernel=0ms Probabilities=257.756ms Ant=1225.98ms Update=0ms Memory=2904.61ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.3501 MIN=0.394821 MAX=0.59651 
Run MPI Combined Run42: Time=2873.06ms Kernel=0ms Probabilities=256.628ms Ant=1232.96ms Update=0ms Memory=2873.06ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.6725 MIN=0.396957 MAX=0.601054 
Run MPI Combined Run43: Time=2911.2ms Kernel=0ms Probabilities=256.702ms Ant=1223.75ms Update=0ms Memory=2911.2ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.2837 MIN=0.402872 MAX=0.600738 
Run MPI Combined Run44: Time=2895.24ms Kernel=0ms Probabilities=255.959ms Ant=1225.69ms Update=0ms Memory=2895.24ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.4452 MIN=0.402869 MAX=0.597841 
Run MPI Combined Run45: Time=2883.13ms Kernel=0ms Probabilities=255.906ms Ant=1233.09ms Update=0ms Memory=2883.13ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.5689 MIN=0.402864 MAX=0.601041 
Run MPI Combined Run46: Time=2923.06ms Kernel=0ms Probabilities=259.023ms Ant=1229.66ms Update=0ms Memory=2923.06ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.1649 MIN=0.395605 MAX=0.600752 
Run MPI Combined Run47: Time=2889.25ms Kernel=0ms Probabilities=255.904ms Ant=1226.41ms Update=0ms Memory=2889.25ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.5062 MIN=0.402915 MAX=0.600789 
Run MPI Combined Run48: Time=2881.91ms Kernel=0ms Probabilities=256.605ms Ant=1235.79ms Update=0ms Memory=2881.91ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.5813 MIN=0.402897 MAX=0.600952 
Run MPI Combined Run49: Time=2930.05ms Kernel=0ms Probabilities=258.852ms Ant=1236.54ms Update=0ms Memory=2930.05ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.0953 MIN=0.402873 MAX=0.601045 
End time: Sun Dec 28 18:10:55 MSK 2025
Execution time: 164.125582101 seconds
MPI execution completed successfully
Log file saved to results
GPU utilization after run:
index, name, utilization.gpu [%], memory.used [MiB], memory.free [MiB]
0, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
1, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
2, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
3, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB

===================================================
Benchmark completed for PARAMETR_SIZE=10752, ANT_SIZE=1024!
Results saved in: results/
Execution time: 164.125582101 seconds
Number of GPUs used: 4
===================================================
Cooling down for 10 seconds...

===================================================
Testing with PARAMETR_SIZE=21504
===================================================
Updating parameter file with PARAMETR_SIZE=21504...
Updating parametrs.h with PARAMETR_SIZE=21504 and NAME_FILE_GRAPH=Parametr_Graph/test21504.txt
Successfully updated parametrs.h with PARAMETR_SIZE=21504
Updating BLOCK_SIZE based on PARAM_SIZE...
Updating BLOCK_SIZE based on PARAM_SIZE=21504
PARAM_SIZE=21504 > 2688, setting BLOCK_SIZE=256
Successfully updated parametrs.h with BLOCK_SIZE=256
Updating MPI settings in parametrs.h...
MPI settings updated
===================================================
Testing with PARAMETR_SIZE=21504, ANT_SIZE=1024
===================================================
Updating parameter file with ANT_SIZE=1024...
Updating parametrs.h with ANT_SIZE=1024
Successfully updated parametrs.h with ANT_SIZE=1024
Compiling MPI CUDA program with arch=sm_70...
MPI compilation successful. Log saved to: results/compilation_logs/compile_size_21504_ant_1024_20251228_181111.txt

===================================================
Running 4-GPU MPI ACO optimization...
===================================================

Start time: Sun Dec 28 18:11:18 MSK 2025
Launching with 4 MPI processes (one per GPU)...
Method 1: Simple 4-process MPI run
Process 1/4 using GPU 1: Tesla V100-SXM2-16GB (Compute 7.0)
Process 3/4 using GPU 3: Tesla V100-SXM2-16GB (Compute 7.0)
Process 2/4 using GPU 2: Tesla V100-SXM2-16GB (Compute 7.0)
Process 0/4 using GPU 0: Tesla V100-SXM2-16GB (Compute 7.0)
Memory bounds check:
  PARAMETR_SIZE: 21504
  MAX_VALUE_SIZE: 5
  ANT_SIZE per process: 1024
  Total ants across all processes: 4096
  Total matrix elements: 107520
Device 0: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 255.289 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 3975304 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 172032 bytes (168 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 860160 bytes (840 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 1: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 255.289 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 3975304 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 172032 bytes (168 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 860160 bytes (840 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 2: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 255.289 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 3975304 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 172032 bytes (168 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 860160 bytes (840 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 3: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 255.289 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 3975304 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 172032 bytes (168 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 860160 bytes (840 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
KOL_GPU: 4; PARAMETR_SIZE: 21504; MAX_VALUE_SIZE: 5; SET_PARAMETR_SIZE_ONE_X: 21; ANT_SIZE: 1024; MAX_THREAD_CUDA: 512; NAME_FILE_GRAPH: Parametr_Graph/test21504.txt; KOL_ITERATION: 500; KOL_PROGREV: 5; KOL_PROGON_STATISTICS: 50; PARAMETR_RO: 0.999; PARAMETR_Q: 1; PRINT_INFORMATION: 0; MAX_PARAMETR_VALUE_TO_MIN_OPT: 1; OPTIMIZE: OPTIMIZE_MIN_1 ; FUNCTION: SHAFFERA GO_HASH: 0; HASH_TABLE_SIZE: 1048576; ZERO_HASH_RESULT: -1; ZERO_HASH: 18446744073709551615; MAX_PROBES: 10000; MAX_CONST: 8192; MAX_SHARED: 49152; BLOCK_SIZE: 256; BIN_SEARCH: 0; NON_WHILE_ANT: 1; 
USE SHARED MEMORY
Warmup 0
Warmup 1
Warmup 2
Warmup 3
Warmup 4
Run MPI Combined Run0: Time=6210.91ms Kernel=0ms Probabilities=563.128ms Ant=2881.81ms Update=0ms Memory=6210.91ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.4495 MIN=0.452162 MAX=0.547653 
Run MPI Combined Run1: Time=6182.47ms Kernel=0ms Probabilities=559.09ms Ant=2878.83ms Update=0ms Memory=6182.47ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.5758 MIN=0.451065 MAX=0.55059 
Run MPI Combined Run2: Time=6176.91ms Kernel=0ms Probabilities=559.274ms Ant=2894.82ms Update=0ms Memory=6176.91ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.6006 MIN=0.450947 MAX=0.549239 
Run MPI Combined Run3: Time=6170.11ms Kernel=0ms Probabilities=560.451ms Ant=2878.56ms Update=0ms Memory=6170.11ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.631 MIN=0.451181 MAX=0.547689 
Run MPI Combined Run4: Time=6176.11ms Kernel=0ms Probabilities=560.532ms Ant=2879.92ms Update=0ms Memory=6176.11ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.6042 MIN=0.45091 MAX=0.547691 
Run MPI Combined Run5: Time=6165.79ms Kernel=0ms Probabilities=557.047ms Ant=2895.59ms Update=0ms Memory=6165.79ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.6504 MIN=0.451029 MAX=0.547684 
Run MPI Combined Run6: Time=6147.96ms Kernel=0ms Probabilities=549.267ms Ant=2886.05ms Update=0ms Memory=6147.96ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.7306 MIN=0.451062 MAX=0.550543 
Run MPI Combined Run7: Time=6158.55ms Kernel=0ms Probabilities=554.108ms Ant=2891.26ms Update=0ms Memory=6158.55ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.6829 MIN=0.452082 MAX=0.54769 
Run MPI Combined Run8: Time=6161.74ms Kernel=0ms Probabilities=553.484ms Ant=2879.6ms Update=0ms Memory=6161.74ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.6685 MIN=0.45091 MAX=0.54769 
Run MPI Combined Run9: Time=6162.79ms Kernel=0ms Probabilities=554.262ms Ant=2879.92ms Update=0ms Memory=6162.79ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.6638 MIN=0.450991 MAX=0.54769 
Run MPI Combined Run10: Time=5976.23ms Kernel=0ms Probabilities=508.558ms Ant=2890.86ms Update=0ms Memory=5976.23ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=28.5274 MIN=0.450902 MAX=0.549648 
Run MPI Combined Run11: Time=5780.71ms Kernel=0ms Probabilities=470.594ms Ant=2895.25ms Update=0ms Memory=5780.71ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=29.4923 MIN=0.448281 MAX=0.55057 
Run MPI Combined Run12: Time=6216.75ms Kernel=0ms Probabilities=565.499ms Ant=2885.67ms Update=0ms Memory=6216.75ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.4237 MIN=0.450891 MAX=0.547756 
Run MPI Combined Run13: Time=6217.54ms Kernel=0ms Probabilities=562.4ms Ant=2879.68ms Update=0ms Memory=6217.54ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.4202 MIN=0.450931 MAX=0.547689 
Run MPI Combined Run14: Time=6222ms Kernel=0ms Probabilities=563.699ms Ant=2892.16ms Update=0ms Memory=6222ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.4006 MIN=0.450905 MAX=0.547686 
Run MPI Combined Run15: Time=6218.78ms Kernel=0ms Probabilities=566.941ms Ant=2880.83ms Update=0ms Memory=6218.78ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.4148 MIN=0.451218 MAX=0.547646 
Run MPI Combined Run16: Time=6232.08ms Kernel=0ms Probabilities=571.109ms Ant=2880.8ms Update=0ms Memory=6232.08ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.3563 MIN=0.450895 MAX=0.547687 
Run MPI Combined Run17: Time=6244.26ms Kernel=0ms Probabilities=572.218ms Ant=2893.47ms Update=0ms Memory=6244.26ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.3029 MIN=0.447855 MAX=0.548093 
Run MPI Combined Run18: Time=6217.41ms Kernel=0ms Probabilities=563.509ms Ant=2882.1ms Update=0ms Memory=6217.41ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.4208 MIN=0.450973 MAX=0.549109 
Run MPI Combined Run19: Time=6216.37ms Kernel=0ms Probabilities=566.085ms Ant=2878.17ms Update=0ms Memory=6216.37ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.4254 MIN=0.451374 MAX=0.547691 
Run MPI Combined Run20: Time=6225.36ms Kernel=0ms Probabilities=567.792ms Ant=2891.52ms Update=0ms Memory=6225.36ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.3858 MIN=0.45089 MAX=0.547691 
Run MPI Combined Run21: Time=6211.81ms Kernel=0ms Probabilities=563.329ms Ant=2882.12ms Update=0ms Memory=6211.81ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.4455 MIN=0.451145 MAX=0.54769 
Run MPI Combined Run22: Time=6254.22ms Kernel=0ms Probabilities=572.74ms Ant=2889.48ms Update=0ms Memory=6254.22ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.2594 MIN=0.450827 MAX=0.54769 
Run MPI Combined Run23: Time=6234.61ms Kernel=0ms Probabilities=568.317ms Ant=2879.91ms Update=0ms Memory=6234.61ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.3452 MIN=0.451325 MAX=0.548291 
Run MPI Combined Run24: Time=6232.15ms Kernel=0ms Probabilities=566.818ms Ant=2899.73ms Update=0ms Memory=6232.15ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.356 MIN=0.450911 MAX=0.547681 
Run MPI Combined Run25: Time=6147.61ms Kernel=0ms Probabilities=553.617ms Ant=2888.14ms Update=0ms Memory=6147.61ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.7322 MIN=0.452343 MAX=0.54769 
Run MPI Combined Run26: Time=6133.75ms Kernel=0ms Probabilities=541.301ms Ant=2895.08ms Update=0ms Memory=6133.75ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.7948 MIN=0.450888 MAX=0.54769 
Run MPI Combined Run27: Time=6152.02ms Kernel=0ms Probabilities=545.514ms Ant=2882.87ms Update=0ms Memory=6152.02ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.7123 MIN=0.451973 MAX=0.54767 
Run MPI Combined Run28: Time=6091.19ms Kernel=0ms Probabilities=533.805ms Ant=2882.53ms Update=0ms Memory=6091.19ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.989 MIN=0.450906 MAX=0.54769 
Run MPI Combined Run29: Time=6103.86ms Kernel=0ms Probabilities=534.002ms Ant=2890.69ms Update=0ms Memory=6103.86ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.9309 MIN=0.453344 MAX=0.547686 
Run MPI Combined Run30: Time=6085.01ms Kernel=0ms Probabilities=533.996ms Ant=2893.68ms Update=0ms Memory=6085.01ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=28.0175 MIN=0.450888 MAX=0.54769 
Run MPI Combined Run31: Time=6143.27ms Kernel=0ms Probabilities=549.941ms Ant=2879.92ms Update=0ms Memory=6143.27ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.7518 MIN=0.452038 MAX=0.548233 
Run MPI Combined Run32: Time=6154.95ms Kernel=0ms Probabilities=553.184ms Ant=2882.82ms Update=0ms Memory=6154.95ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.6991 MIN=0.450888 MAX=0.547674 
Run MPI Combined Run33: Time=6154.58ms Kernel=0ms Probabilities=553.023ms Ant=2893.37ms Update=0ms Memory=6154.58ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.7008 MIN=0.45089 MAX=0.550549 
Run MPI Combined Run34: Time=6156.2ms Kernel=0ms Probabilities=551.495ms Ant=2879.17ms Update=0ms Memory=6156.2ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.6935 MIN=0.450978 MAX=0.547691 
Run MPI Combined Run35: Time=6182.29ms Kernel=0ms Probabilities=556.071ms Ant=2898.76ms Update=0ms Memory=6182.29ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.5766 MIN=0.450909 MAX=0.550131 
Run MPI Combined Run36: Time=6168.49ms Kernel=0ms Probabilities=554.127ms Ant=2878.32ms Update=0ms Memory=6168.49ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.6383 MIN=0.450923 MAX=0.550027 
Run MPI Combined Run37: Time=6197.54ms Kernel=0ms Probabilities=561.807ms Ant=2878.96ms Update=0ms Memory=6197.54ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.5087 MIN=0.450907 MAX=0.550569 
Run MPI Combined Run38: Time=6169.37ms Kernel=0ms Probabilities=555.72ms Ant=2895.18ms Update=0ms Memory=6169.37ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.6343 MIN=0.453018 MAX=0.547676 
Run MPI Combined Run39: Time=6150.62ms Kernel=0ms Probabilities=554.06ms Ant=2882.7ms Update=0ms Memory=6150.62ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.7186 MIN=0.451132 MAX=0.549731 
Run MPI Combined Run40: Time=6154.26ms Kernel=0ms Probabilities=554.02ms Ant=2891.54ms Update=0ms Memory=6154.26ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.7022 MIN=0.45146 MAX=0.549051 
Run MPI Combined Run41: Time=6154.23ms Kernel=0ms Probabilities=554.344ms Ant=2880.73ms Update=0ms Memory=6154.23ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.7023 MIN=0.450888 MAX=0.550484 
Run MPI Combined Run42: Time=6153.14ms Kernel=0ms Probabilities=553.553ms Ant=2878.51ms Update=0ms Memory=6153.14ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.7072 MIN=0.451183 MAX=0.547684 
Run MPI Combined Run43: Time=6180.6ms Kernel=0ms Probabilities=556.253ms Ant=2892.9ms Update=0ms Memory=6180.6ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.5841 MIN=0.450997 MAX=0.550561 
Run MPI Combined Run44: Time=6210.83ms Kernel=0ms Probabilities=564.224ms Ant=2885.76ms Update=0ms Memory=6210.83ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.4499 MIN=0.451024 MAX=0.547689 
Run MPI Combined Run45: Time=6154.18ms Kernel=0ms Probabilities=552.505ms Ant=2904ms Update=0ms Memory=6154.18ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.7026 MIN=0.4534 MAX=0.550252 
Run MPI Combined Run46: Time=6160.42ms Kernel=0ms Probabilities=555.555ms Ant=2880.78ms Update=0ms Memory=6160.42ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.6745 MIN=0.450895 MAX=0.54769 
Run MPI Combined Run47: Time=6158.3ms Kernel=0ms Probabilities=554.851ms Ant=2893.92ms Update=0ms Memory=6158.3ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.684 MIN=0.451008 MAX=0.54769 
Run MPI Combined Run48: Time=6153.6ms Kernel=0ms Probabilities=555.288ms Ant=2879.54ms Update=0ms Memory=6153.6ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.7051 MIN=0.450138 MAX=0.549492 
Run MPI Combined Run49: Time=6162.12ms Kernel=0ms Probabilities=556.664ms Ant=2877.83ms Update=0ms Memory=6162.12ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=27.6669 MIN=0.450888 MAX=0.547683 
End time: Sun Dec 28 18:17:03 MSK 2025
Execution time: 344.903186782 seconds
MPI execution completed successfully
Log file saved to results
GPU utilization after run:
index, name, utilization.gpu [%], memory.used [MiB], memory.free [MiB]
0, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
1, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
2, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
3, Tesla V100-SXM2-16GB, 1 %, 0 MiB, 16151 MiB

===================================================
Benchmark completed for PARAMETR_SIZE=21504, ANT_SIZE=1024!
Results saved in: results/
Execution time: 344.903186782 seconds
Number of GPUs used: 4
===================================================
Cooling down for 10 seconds...

===================================================
Testing with PARAMETR_SIZE=43008
===================================================
Updating parameter file with PARAMETR_SIZE=43008...
Updating parametrs.h with PARAMETR_SIZE=43008 and NAME_FILE_GRAPH=Parametr_Graph/test43008.txt
Successfully updated parametrs.h with PARAMETR_SIZE=43008
Updating BLOCK_SIZE based on PARAM_SIZE...
Updating BLOCK_SIZE based on PARAM_SIZE=43008
PARAM_SIZE=43008 > 2688, setting BLOCK_SIZE=256
Successfully updated parametrs.h with BLOCK_SIZE=256
Updating MPI settings in parametrs.h...
MPI settings updated
===================================================
Testing with PARAMETR_SIZE=43008, ANT_SIZE=1024
===================================================
Updating parameter file with ANT_SIZE=1024...
Updating parametrs.h with ANT_SIZE=1024
Successfully updated parametrs.h with ANT_SIZE=1024
Compiling MPI CUDA program with arch=sm_70...
MPI compilation successful. Log saved to: results/compilation_logs/compile_size_43008_ant_1024_20251228_181720.txt

===================================================
Running 4-GPU MPI ACO optimization...
===================================================

Start time: Sun Dec 28 18:17:27 MSK 2025
Launching with 4 MPI processes (one per GPU)...
Method 1: Simple 4-process MPI run
Process 0/4 using GPU 0: Tesla V100-SXM2-16GB (Compute 7.0)
Process 3/4 using GPU 3: Tesla V100-SXM2-16GB (Compute 7.0)
Process 1/4 using GPU 1: Tesla V100-SXM2-16GB (Compute 7.0)
Process 2/4 using GPU 2: Tesla V100-SXM2-16GB (Compute 7.0)
Memory bounds check:
  PARAMETR_SIZE: 43008
  MAX_VALUE_SIZE: 5
  ANT_SIZE per process: 1024
  Total ants across all processes: 4096
  Total matrix elements: 215040
Device 0: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 510.57 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 3975304 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 344064 bytes (336 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 1720320 bytes (1680 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 1: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 510.57 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 3975304 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 344064 bytes (336 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 1720320 bytes (1680 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 2: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 510.57 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 3975304 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 344064 bytes (336 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 1720320 bytes (1680 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 3: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 510.57 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 3975304 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 344064 bytes (336 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 1720320 bytes (1680 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
KOL_GPU: 4; PARAMETR_SIZE: 43008; MAX_VALUE_SIZE: 5; SET_PARAMETR_SIZE_ONE_X: 21; ANT_SIZE: 1024; MAX_THREAD_CUDA: 512; NAME_FILE_GRAPH: Parametr_Graph/test43008.txt; KOL_ITERATION: 500; KOL_PROGREV: 5; KOL_PROGON_STATISTICS: 50; PARAMETR_RO: 0.999; PARAMETR_Q: 1; PRINT_INFORMATION: 0; MAX_PARAMETR_VALUE_TO_MIN_OPT: 1; OPTIMIZE: OPTIMIZE_MIN_1 ; FUNCTION: SHAFFERA GO_HASH: 0; HASH_TABLE_SIZE: 1048576; ZERO_HASH_RESULT: -1; ZERO_HASH: 18446744073709551615; MAX_PROBES: 10000; MAX_CONST: 8192; MAX_SHARED: 49152; BLOCK_SIZE: 256; BIN_SEARCH: 0; NON_WHILE_ANT: 1; 
USE SHARED MEMORY
Warmup 0
Warmup 1
Warmup 2
Warmup 3
Warmup 4
Run MPI Combined Run0: Time=13601.7ms Kernel=0ms Probabilities=1098.47ms Ant=7224.64ms Update=0ms Memory=13601.7ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.0674 MIN=0.476671 MAX=0.523655 
Run MPI Combined Run1: Time=13614.4ms Kernel=0ms Probabilities=1095.51ms Ant=7237.72ms Update=0ms Memory=13614.4ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.0439 MIN=0.476682 MAX=0.52376 
Run MPI Combined Run2: Time=13607ms Kernel=0ms Probabilities=1096.48ms Ant=7231.1ms Update=0ms Memory=13607ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.0576 MIN=0.47667 MAX=0.522848 
Run MPI Combined Run3: Time=13616.1ms Kernel=0ms Probabilities=1091.66ms Ant=7246.01ms Update=0ms Memory=13616.1ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.0407 MIN=0.476455 MAX=0.523793 
Run MPI Combined Run4: Time=13607.5ms Kernel=0ms Probabilities=1092.22ms Ant=7214.85ms Update=0ms Memory=13607.5ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.0567 MIN=0.476676 MAX=0.523812 
Run MPI Combined Run5: Time=13621.8ms Kernel=0ms Probabilities=1097.27ms Ant=7226.31ms Update=0ms Memory=13621.8ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.0303 MIN=0.476671 MAX=0.523718 
Run MPI Combined Run6: Time=13600.3ms Kernel=0ms Probabilities=1086.43ms Ant=7220.15ms Update=0ms Memory=13600.3ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.0698 MIN=0.47667 MAX=0.523826 
Run MPI Combined Run7: Time=13588ms Kernel=0ms Probabilities=1087.44ms Ant=7251.01ms Update=0ms Memory=13588ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.0926 MIN=0.476672 MAX=0.523329 
Run MPI Combined Run8: Time=13599.8ms Kernel=0ms Probabilities=1093.81ms Ant=7212.88ms Update=0ms Memory=13599.8ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.0708 MIN=0.476197 MAX=0.523054 
Run MPI Combined Run9: Time=13611.4ms Kernel=0ms Probabilities=1091.83ms Ant=7227.4ms Update=0ms Memory=13611.4ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.0494 MIN=0.476678 MAX=0.523795 
Run MPI Combined Run10: Time=13632.8ms Kernel=0ms Probabilities=1098.54ms Ant=7208.62ms Update=0ms Memory=13632.8ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.0101 MIN=0.476717 MAX=0.523751 
Run MPI Combined Run11: Time=13612ms Kernel=0ms Probabilities=1098.06ms Ant=7201.87ms Update=0ms Memory=13612ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.0483 MIN=0.4767 MAX=0.522848 
Run MPI Combined Run12: Time=13603.2ms Kernel=0ms Probabilities=1093.85ms Ant=7255.96ms Update=0ms Memory=13603.2ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.0644 MIN=0.476673 MAX=0.523792 
Run MPI Combined Run13: Time=13609.8ms Kernel=0ms Probabilities=1093.49ms Ant=7198.99ms Update=0ms Memory=13609.8ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.0523 MIN=0.476675 MAX=0.523222 
Run MPI Combined Run14: Time=13636.2ms Kernel=0ms Probabilities=1099.45ms Ant=7236.69ms Update=0ms Memory=13636.2ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.0039 MIN=0.476336 MAX=0.523468 
Run MPI Combined Run15: Time=13622ms Kernel=0ms Probabilities=1096.41ms Ant=7222.22ms Update=0ms Memory=13622ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.0299 MIN=0.47667 MAX=0.523819 
Run MPI Combined Run16: Time=13614.1ms Kernel=0ms Probabilities=1096.35ms Ant=7240.57ms Update=0ms Memory=13614.1ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.0445 MIN=0.475683 MAX=0.522848 
Run MPI Combined Run17: Time=13594.8ms Kernel=0ms Probabilities=1092.16ms Ant=7244.96ms Update=0ms Memory=13594.8ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.0799 MIN=0.476689 MAX=0.523805 
Run MPI Combined Run18: Time=13610.2ms Kernel=0ms Probabilities=1092.51ms Ant=7211.23ms Update=0ms Memory=13610.2ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.0516 MIN=0.476685 MAX=0.523725 
Run MPI Combined Run19: Time=13595.8ms Kernel=0ms Probabilities=1094.47ms Ant=7250.18ms Update=0ms Memory=13595.8ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.0781 MIN=0.476671 MAX=0.523784 
Run MPI Combined Run20: Time=13116.5ms Kernel=0ms Probabilities=1010.05ms Ant=7204.75ms Update=0ms Memory=13116.5ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.9945 MIN=0.47667 MAX=0.52371 
Run MPI Combined Run21: Time=13724.9ms Kernel=0ms Probabilities=1137.03ms Ant=7201.75ms Update=0ms Memory=13724.9ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=24.8423 MIN=0.476113 MAX=0.52378 
Run MPI Combined Run22: Time=13679.5ms Kernel=0ms Probabilities=1132.65ms Ant=7237.84ms Update=0ms Memory=13679.5ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=24.9247 MIN=0.475945 MAX=0.523741 
Run MPI Combined Run23: Time=13670.9ms Kernel=0ms Probabilities=1132.66ms Ant=7221.23ms Update=0ms Memory=13670.9ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=24.9403 MIN=0.476671 MAX=0.523801 
Run MPI Combined Run24: Time=13693.4ms Kernel=0ms Probabilities=1133.43ms Ant=7250.23ms Update=0ms Memory=13693.4ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=24.8994 MIN=0.476685 MAX=0.523609 
Run MPI Combined Run25: Time=13679.4ms Kernel=0ms Probabilities=1135.09ms Ant=7213.89ms Update=0ms Memory=13679.4ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=24.925 MIN=0.476672 MAX=0.523548 
Run MPI Combined Run26: Time=13721.1ms Kernel=0ms Probabilities=1135.84ms Ant=7214.2ms Update=0ms Memory=13721.1ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=24.8492 MIN=0.476675 MAX=0.523595 
Run MPI Combined Run27: Time=13537.8ms Kernel=0ms Probabilities=1096.83ms Ant=7208.48ms Update=0ms Memory=13537.8ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.1855 MIN=0.475793 MAX=0.523785 
Run MPI Combined Run28: Time=13479.8ms Kernel=0ms Probabilities=1058.47ms Ant=7245.52ms Update=0ms Memory=13479.8ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.2939 MIN=0.4757 MAX=0.523481 
Run MPI Combined Run29: Time=13453ms Kernel=0ms Probabilities=1057.27ms Ant=7241.35ms Update=0ms Memory=13453ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.3444 MIN=0.47667 MAX=0.524743 
Run MPI Combined Run30: Time=13618ms Kernel=0ms Probabilities=1099.24ms Ant=7214.24ms Update=0ms Memory=13618ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.0374 MIN=0.476673 MAX=0.523129 
Run MPI Combined Run31: Time=13590.4ms Kernel=0ms Probabilities=1095.16ms Ant=7232.02ms Update=0ms Memory=13590.4ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.0882 MIN=0.476671 MAX=0.523753 
Run MPI Combined Run32: Time=13580.4ms Kernel=0ms Probabilities=1090.52ms Ant=7219.78ms Update=0ms Memory=13580.4ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.1065 MIN=0.476671 MAX=0.523791 
Run MPI Combined Run33: Time=13571.8ms Kernel=0ms Probabilities=1088.38ms Ant=7237.39ms Update=0ms Memory=13571.8ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.1225 MIN=0.476671 MAX=0.523558 
Run MPI Combined Run34: Time=13588ms Kernel=0ms Probabilities=1086.53ms Ant=7243.41ms Update=0ms Memory=13588ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.0926 MIN=0.475721 MAX=0.523826 
Run MPI Combined Run35: Time=13618ms Kernel=0ms Probabilities=1091.54ms Ant=7228.25ms Update=0ms Memory=13618ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.0373 MIN=0.476675 MAX=0.523666 
Run MPI Combined Run36: Time=13641.7ms Kernel=0ms Probabilities=1102.27ms Ant=7238.74ms Update=0ms Memory=13641.7ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=24.9938 MIN=0.476708 MAX=0.523396 
Run MPI Combined Run37: Time=13576.6ms Kernel=0ms Probabilities=1088.83ms Ant=7209.62ms Update=0ms Memory=13576.6ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.1136 MIN=0.476715 MAX=0.523826 
Run MPI Combined Run38: Time=13580.6ms Kernel=0ms Probabilities=1087.67ms Ant=7227.56ms Update=0ms Memory=13580.6ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.1062 MIN=0.476671 MAX=0.523608 
Run MPI Combined Run39: Time=13577ms Kernel=0ms Probabilities=1084.26ms Ant=7218.78ms Update=0ms Memory=13577ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.1128 MIN=0.476674 MAX=0.522848 
Run MPI Combined Run40: Time=13614.4ms Kernel=0ms Probabilities=1092.95ms Ant=7230.54ms Update=0ms Memory=13614.4ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.0438 MIN=0.476671 MAX=0.523824 
Run MPI Combined Run41: Time=13611.3ms Kernel=0ms Probabilities=1088.05ms Ant=7240.54ms Update=0ms Memory=13611.3ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.0496 MIN=0.47667 MAX=0.523802 
Run MPI Combined Run42: Time=13582.9ms Kernel=0ms Probabilities=1087.34ms Ant=7210.27ms Update=0ms Memory=13582.9ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.1021 MIN=0.476729 MAX=0.5238 
Run MPI Combined Run43: Time=13558.1ms Kernel=0ms Probabilities=1081.56ms Ant=7211.08ms Update=0ms Memory=13558.1ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.1479 MIN=0.476671 MAX=0.523255 
Run MPI Combined Run44: Time=13602.7ms Kernel=0ms Probabilities=1086.28ms Ant=7250.08ms Update=0ms Memory=13602.7ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.0654 MIN=0.476671 MAX=0.523821 
Run MPI Combined Run45: Time=13612.6ms Kernel=0ms Probabilities=1091.85ms Ant=7238.99ms Update=0ms Memory=13612.6ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.0472 MIN=0.476698 MAX=0.523273 
Run MPI Combined Run46: Time=13556.2ms Kernel=0ms Probabilities=1080.89ms Ant=7219.76ms Update=0ms Memory=13556.2ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.1514 MIN=0.476673 MAX=0.522848 
Run MPI Combined Run47: Time=13552.7ms Kernel=0ms Probabilities=1074.74ms Ant=7243.68ms Update=0ms Memory=13552.7ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.1578 MIN=0.476672 MAX=0.523785 
Run MPI Combined Run48: Time=13563.8ms Kernel=0ms Probabilities=1076.34ms Ant=7235.87ms Update=0ms Memory=13563.8ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.1372 MIN=0.476679 MAX=0.52351 
Run MPI Combined Run49: Time=13598.5ms Kernel=0ms Probabilities=1085.31ms Ant=7212.04ms Update=0ms Memory=13598.5ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=25.0732 MIN=0.476671 MAX=0.523763 
End time: Sun Dec 28 18:30:02 MSK 2025
Execution time: 754.997746127 seconds
MPI execution completed successfully
Log file saved to results
GPU utilization after run:
index, name, utilization.gpu [%], memory.used [MiB], memory.free [MiB]
0, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
1, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
2, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
3, Tesla V100-SXM2-16GB, 1 %, 0 MiB, 16151 MiB

===================================================
Benchmark completed for PARAMETR_SIZE=43008, ANT_SIZE=1024!
Results saved in: results/
Execution time: 754.997746127 seconds
Number of GPUs used: 4
===================================================
Cooling down for 10 seconds...

===================================================
Testing with PARAMETR_SIZE=86016
===================================================
Updating parameter file with PARAMETR_SIZE=86016...
Updating parametrs.h with PARAMETR_SIZE=86016 and NAME_FILE_GRAPH=Parametr_Graph/test86016.txt
Successfully updated parametrs.h with PARAMETR_SIZE=86016
Updating BLOCK_SIZE based on PARAM_SIZE...
Updating BLOCK_SIZE based on PARAM_SIZE=86016
PARAM_SIZE=86016 > 2688, setting BLOCK_SIZE=256
Successfully updated parametrs.h with BLOCK_SIZE=256
Updating MPI settings in parametrs.h...
MPI settings updated
===================================================
Testing with PARAMETR_SIZE=86016, ANT_SIZE=1024
===================================================
Updating parameter file with ANT_SIZE=1024...
Updating parametrs.h with ANT_SIZE=1024
Successfully updated parametrs.h with ANT_SIZE=1024
Compiling MPI CUDA program with arch=sm_70...
MPI compilation successful. Log saved to: results/compilation_logs/compile_size_86016_ant_1024_20251228_183015.txt

===================================================
Running 4-GPU MPI ACO optimization...
===================================================

Start time: Sun Dec 28 18:30:23 MSK 2025
Launching with 4 MPI processes (one per GPU)...
Method 1: Simple 4-process MPI run
Process 2/4 using GPU 2: Tesla V100-SXM2-16GB (Compute 7.0)
Process 3/4 using GPU 3: Tesla V100-SXM2-16GB (Compute 7.0)
Process 0/4 using GPU 0: Tesla V100-SXM2-16GB (Compute 7.0)
Process 1/4 using GPU 1: Tesla V100-SXM2-16GB (Compute 7.0)
Memory bounds check:
  PARAMETR_SIZE: 86016
  MAX_VALUE_SIZE: 5
  ANT_SIZE per process: 1024
  Total ants across all processes: 4096
  Total matrix elements: 430080
Device 0: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 1021.13 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 1359165 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 688128 bytes (672 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 3440640 bytes (3360 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 1: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 1021.13 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 1359165 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 688128 bytes (672 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 3440640 bytes (3360 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 2: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 1021.13 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 1359165 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 688128 bytes (672 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 3440640 bytes (3360 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 3: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 1021.13 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 1359165 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 688128 bytes (672 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 3440640 bytes (3360 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
KOL_GPU: 4; PARAMETR_SIZE: 86016; MAX_VALUE_SIZE: 5; SET_PARAMETR_SIZE_ONE_X: 21; ANT_SIZE: 1024; MAX_THREAD_CUDA: 512; NAME_FILE_GRAPH: Parametr_Graph/test86016.txt; KOL_ITERATION: 500; KOL_PROGREV: 5; KOL_PROGON_STATISTICS: 50; PARAMETR_RO: 0.999; PARAMETR_Q: 1; PRINT_INFORMATION: 0; MAX_PARAMETR_VALUE_TO_MIN_OPT: 1; OPTIMIZE: OPTIMIZE_MIN_1 ; FUNCTION: SHAFFERA GO_HASH: 0; HASH_TABLE_SIZE: 1048576; ZERO_HASH_RESULT: -1; ZERO_HASH: 18446744073709551615; MAX_PROBES: 10000; MAX_CONST: 8192; MAX_SHARED: 49152; BLOCK_SIZE: 256; BIN_SEARCH: 0; NON_WHILE_ANT: 1; 
Warmup 0
Warmup 1
Warmup 2
Warmup 3
Warmup 4
Run MPI Combined Run0: Time=30835.3ms Kernel=0ms Probabilities=2173.7ms Ant=17884.2ms Update=0ms Memory=30835.3ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.1143 MIN=0.48847 MAX=0.511366 
Run MPI Combined Run1: Time=30606.7ms Kernel=0ms Probabilities=2167.92ms Ant=17840.2ms Update=0ms Memory=30606.7ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.2794 MIN=0.488515 MAX=0.51134 
Run MPI Combined Run2: Time=31073.3ms Kernel=0ms Probabilities=2251.93ms Ant=17860.1ms Update=0ms Memory=31073.3ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=21.9449 MIN=0.488801 MAX=0.511302 
Run MPI Combined Run3: Time=30750.8ms Kernel=0ms Probabilities=2159.53ms Ant=17939.6ms Update=0ms Memory=30750.8ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.175 MIN=0.488621 MAX=0.511349 
Run MPI Combined Run4: Time=30851ms Kernel=0ms Probabilities=2173.2ms Ant=17926.5ms Update=0ms Memory=30851ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.103 MIN=0.488802 MAX=0.511303 
Run MPI Combined Run5: Time=30894.6ms Kernel=0ms Probabilities=2183.33ms Ant=17961.4ms Update=0ms Memory=30894.6ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.0718 MIN=0.488483 MAX=0.511363 
Run MPI Combined Run6: Time=30942.7ms Kernel=0ms Probabilities=2205.23ms Ant=17911.3ms Update=0ms Memory=30942.7ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.0375 MIN=0.488801 MAX=0.511358 
Run MPI Combined Run7: Time=30890.7ms Kernel=0ms Probabilities=2183.07ms Ant=17959.9ms Update=0ms Memory=30890.7ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.0746 MIN=0.488801 MAX=0.511364 
Run MPI Combined Run8: Time=30847.2ms Kernel=0ms Probabilities=2175.17ms Ant=17906.7ms Update=0ms Memory=30847.2ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.1057 MIN=0.488648 MAX=0.51111 
Run MPI Combined Run9: Time=30838.7ms Kernel=0ms Probabilities=2167.41ms Ant=17952ms Update=0ms Memory=30838.7ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.1118 MIN=0.48858 MAX=0.511366 
Run MPI Combined Run10: Time=30909.6ms Kernel=0ms Probabilities=2181.58ms Ant=17922.3ms Update=0ms Memory=30909.6ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.0611 MIN=0.488801 MAX=0.511351 
Run MPI Combined Run11: Time=30939.7ms Kernel=0ms Probabilities=2189.31ms Ant=17917ms Update=0ms Memory=30939.7ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.0397 MIN=0.488802 MAX=0.511333 
Run MPI Combined Run12: Time=30894.5ms Kernel=0ms Probabilities=2177.34ms Ant=17930ms Update=0ms Memory=30894.5ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.0719 MIN=0.488471 MAX=0.511365 
Run MPI Combined Run13: Time=30870.7ms Kernel=0ms Probabilities=2179.35ms Ant=17942.3ms Update=0ms Memory=30870.7ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.0889 MIN=0.488809 MAX=0.511305 
Run MPI Combined Run14: Time=30865.6ms Kernel=0ms Probabilities=2182.94ms Ant=17882ms Update=0ms Memory=30865.6ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.0926 MIN=0.48848 MAX=0.511366 
Run MPI Combined Run15: Time=30862.8ms Kernel=0ms Probabilities=2191.77ms Ant=17783.7ms Update=0ms Memory=30862.8ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.0946 MIN=0.488639 MAX=0.511361 
Run MPI Combined Run16: Time=30808.8ms Kernel=0ms Probabilities=2189.29ms Ant=17873.7ms Update=0ms Memory=30808.8ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.1333 MIN=0.488525 MAX=0.511364 
Run MPI Combined Run17: Time=30836.6ms Kernel=0ms Probabilities=2187.86ms Ant=17897.6ms Update=0ms Memory=30836.6ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.1133 MIN=0.488472 MAX=0.511365 
Run MPI Combined Run18: Time=30889.5ms Kernel=0ms Probabilities=2184.75ms Ant=17965.4ms Update=0ms Memory=30889.5ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.0754 MIN=0.488801 MAX=0.51134 
Run MPI Combined Run19: Time=30871.3ms Kernel=0ms Probabilities=2187.43ms Ant=17796.7ms Update=0ms Memory=30871.3ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.0885 MIN=0.488802 MAX=0.51131 
Run MPI Combined Run20: Time=30817.8ms Kernel=0ms Probabilities=2181.17ms Ant=17936.7ms Update=0ms Memory=30817.8ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.1268 MIN=0.488801 MAX=0.511366 
Run MPI Combined Run21: Time=30659.7ms Kernel=0ms Probabilities=2134.93ms Ant=17814.6ms Update=0ms Memory=30659.7ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.2409 MIN=0.488497 MAX=0.511348 
Run MPI Combined Run22: Time=31173.3ms Kernel=0ms Probabilities=2248.06ms Ant=17915.7ms Update=0ms Memory=31173.3ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=21.8745 MIN=0.488684 MAX=0.511365 
Run MPI Combined Run23: Time=30663.7ms Kernel=0ms Probabilities=2085.73ms Ant=17886.5ms Update=0ms Memory=30663.7ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.238 MIN=0.488801 MAX=0.511237 
Run MPI Combined Run24: Time=30811.3ms Kernel=0ms Probabilities=2116.66ms Ant=17920ms Update=0ms Memory=30811.3ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.1315 MIN=0.488472 MAX=0.511298 
Run MPI Combined Run25: Time=30948.8ms Kernel=0ms Probabilities=2146.84ms Ant=17954.9ms Update=0ms Memory=30948.8ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.0331 MIN=0.488801 MAX=0.511353 
Run MPI Combined Run26: Time=30843ms Kernel=0ms Probabilities=2120.38ms Ant=17937.1ms Update=0ms Memory=30843ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.1088 MIN=0.488801 MAX=0.511358 
Run MPI Combined Run27: Time=30886.3ms Kernel=0ms Probabilities=2124.99ms Ant=17865.9ms Update=0ms Memory=30886.3ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.0777 MIN=0.488494 MAX=0.511366 
Run MPI Combined Run28: Time=30899.5ms Kernel=0ms Probabilities=2125.56ms Ant=17834.3ms Update=0ms Memory=30899.5ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.0683 MIN=0.488643 MAX=0.511362 
Run MPI Combined Run29: Time=30872.3ms Kernel=0ms Probabilities=2118.87ms Ant=17914.9ms Update=0ms Memory=30872.3ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.0878 MIN=0.488466 MAX=0.51171 
Run MPI Combined Run30: Time=30836.4ms Kernel=0ms Probabilities=2125.83ms Ant=17950.1ms Update=0ms Memory=30836.4ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.1135 MIN=0.488801 MAX=0.511324 
Run MPI Combined Run31: Time=30872.4ms Kernel=0ms Probabilities=2123.15ms Ant=17955.1ms Update=0ms Memory=30872.4ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.0877 MIN=0.488468 MAX=0.511365 
Run MPI Combined Run32: Time=30853ms Kernel=0ms Probabilities=2130.73ms Ant=17897.2ms Update=0ms Memory=30853ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.1016 MIN=0.488801 MAX=0.511364 
Run MPI Combined Run33: Time=30894.8ms Kernel=0ms Probabilities=2129.87ms Ant=17949.5ms Update=0ms Memory=30894.8ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.0717 MIN=0.488677 MAX=0.51136 
Run MPI Combined Run34: Time=30882.7ms Kernel=0ms Probabilities=2134.06ms Ant=17910.4ms Update=0ms Memory=30882.7ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.0803 MIN=0.488801 MAX=0.511352 
Run MPI Combined Run35: Time=30905.6ms Kernel=0ms Probabilities=2125.39ms Ant=17928.2ms Update=0ms Memory=30905.6ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.0639 MIN=0.488801 MAX=0.511359 
Run MPI Combined Run36: Time=30821.8ms Kernel=0ms Probabilities=2116.05ms Ant=17833.7ms Update=0ms Memory=30821.8ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.124 MIN=0.48851 MAX=0.511351 
Run MPI Combined Run37: Time=30945.7ms Kernel=0ms Probabilities=2130.41ms Ant=17870ms Update=0ms Memory=30945.7ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.0354 MIN=0.488488 MAX=0.511344 
Run MPI Combined Run38: Time=30808ms Kernel=0ms Probabilities=2121.72ms Ant=17963.8ms Update=0ms Memory=30808ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.1338 MIN=0.488562 MAX=0.511363 
Run MPI Combined Run39: Time=30942.9ms Kernel=0ms Probabilities=2133.14ms Ant=17900.2ms Update=0ms Memory=30942.9ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.0374 MIN=0.488801 MAX=0.511365 
Run MPI Combined Run40: Time=30857.3ms Kernel=0ms Probabilities=2116.17ms Ant=17848.6ms Update=0ms Memory=30857.3ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.0985 MIN=0.488495 MAX=0.511279 
Run MPI Combined Run41: Time=30891.2ms Kernel=0ms Probabilities=2174.28ms Ant=17910.1ms Update=0ms Memory=30891.2ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.0743 MIN=0.488464 MAX=0.511364 
Run MPI Combined Run42: Time=31152.5ms Kernel=0ms Probabilities=2232.84ms Ant=17832.7ms Update=0ms Memory=31152.5ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=21.8891 MIN=0.488725 MAX=0.51134 
Run MPI Combined Run43: Time=31120.4ms Kernel=0ms Probabilities=2233.92ms Ant=17950.6ms Update=0ms Memory=31120.4ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=21.9117 MIN=0.488801 MAX=0.511324 
Run MPI Combined Run44: Time=30698ms Kernel=0ms Probabilities=2093.74ms Ant=17893.2ms Update=0ms Memory=30698ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.2132 MIN=0.488742 MAX=0.511316 
Run MPI Combined Run45: Time=30894.6ms Kernel=0ms Probabilities=2125.5ms Ant=17956.5ms Update=0ms Memory=30894.6ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.0718 MIN=0.488482 MAX=0.511322 
Run MPI Combined Run46: Time=30845.6ms Kernel=0ms Probabilities=2124.59ms Ant=17808.8ms Update=0ms Memory=30845.6ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.1069 MIN=0.488801 MAX=0.511343 
Run MPI Combined Run47: Time=30906.7ms Kernel=0ms Probabilities=2123.98ms Ant=17943.1ms Update=0ms Memory=30906.7ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.0631 MIN=0.488476 MAX=0.511365 
Run MPI Combined Run48: Time=30877.8ms Kernel=0ms Probabilities=2120.27ms Ant=17866.3ms Update=0ms Memory=30877.8ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.0838 MIN=0.488801 MAX=0.511359 
Run MPI Combined Run49: Time=30965.5ms Kernel=0ms Probabilities=2140.4ms Ant=17959ms Update=0ms Memory=30965.5ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=22.0213 MIN=0.488605 MAX=0.511361 
End time: Sun Dec 28 18:58:45 MSK 2025
Execution time: 1701.417257994 seconds
MPI execution completed successfully
Log file saved to results
GPU utilization after run:
index, name, utilization.gpu [%], memory.used [MiB], memory.free [MiB]
0, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
1, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
2, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
3, Tesla V100-SXM2-16GB, 1 %, 0 MiB, 16151 MiB

===================================================
Benchmark completed for PARAMETR_SIZE=86016, ANT_SIZE=1024!
Results saved in: results/
Execution time: 1701.417257994 seconds
Number of GPUs used: 4
===================================================
Cooling down for 10 seconds...

===================================================
Testing with PARAMETR_SIZE=172032
===================================================
Updating parameter file with PARAMETR_SIZE=172032...
Updating parametrs.h with PARAMETR_SIZE=172032 and NAME_FILE_GRAPH=Parametr_Graph/test172032.txt
Successfully updated parametrs.h with PARAMETR_SIZE=172032
Updating BLOCK_SIZE based on PARAM_SIZE...
Updating BLOCK_SIZE based on PARAM_SIZE=172032
PARAM_SIZE=172032 > 2688, setting BLOCK_SIZE=256
Successfully updated parametrs.h with BLOCK_SIZE=256
Updating MPI settings in parametrs.h...
MPI settings updated
===================================================
Testing with PARAMETR_SIZE=172032, ANT_SIZE=1024
===================================================
Updating parameter file with ANT_SIZE=1024...
Updating parametrs.h with ANT_SIZE=1024
Successfully updated parametrs.h with ANT_SIZE=1024
Compiling MPI CUDA program with arch=sm_70...
MPI compilation successful. Log saved to: results/compilation_logs/compile_size_172032_ant_1024_20251228_185901.txt

===================================================
Running 4-GPU MPI ACO optimization...
===================================================

Start time: Sun Dec 28 18:59:10 MSK 2025
Launching with 4 MPI processes (one per GPU)...
Method 1: Simple 4-process MPI run
Process 1/4 using GPU 1: Tesla V100-SXM2-16GB (Compute 7.0)
Process 2/4 using GPU 2: Tesla V100-SXM2-16GB (Compute 7.0)
Process 3/4 using GPU 3: Tesla V100-SXM2-16GB (Compute 7.0)
Process 0/4 using GPU 0: Tesla V100-SXM2-16GB (Compute 7.0)
Memory bounds check:
  PARAMETR_SIZE: 172032
  MAX_VALUE_SIZE: 5
  ANT_SIZE per process: 1024
  Total ants across all processes: 4096
  Total matrix elements: 860160
Device 0: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 2042.26 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 1359165 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 1376256 bytes (1344 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 6881280 bytes (6720 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 1: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 2042.26 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 1359165 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 1376256 bytes (1344 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 6881280 bytes (6720 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 2: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 2042.26 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 1359165 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 1376256 bytes (1344 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 6881280 bytes (6720 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 3: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 2042.26 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 1359165 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 1376256 bytes (1344 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 6881280 bytes (6720 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
KOL_GPU: 4; PARAMETR_SIZE: 172032; MAX_VALUE_SIZE: 5; SET_PARAMETR_SIZE_ONE_X: 21; ANT_SIZE: 1024; MAX_THREAD_CUDA: 512; NAME_FILE_GRAPH: Parametr_Graph/test172032.txt; KOL_ITERATION: 500; KOL_PROGREV: 5; KOL_PROGON_STATISTICS: 50; PARAMETR_RO: 0.999; PARAMETR_Q: 1; PRINT_INFORMATION: 0; MAX_PARAMETR_VALUE_TO_MIN_OPT: 1; OPTIMIZE: OPTIMIZE_MIN_1 ; FUNCTION: SHAFFERA GO_HASH: 0; HASH_TABLE_SIZE: 1048576; ZERO_HASH_RESULT: -1; ZERO_HASH: 18446744073709551615; MAX_PROBES: 10000; MAX_CONST: 8192; MAX_SHARED: 49152; BLOCK_SIZE: 256; BIN_SEARCH: 0; NON_WHILE_ANT: 1; 
Warmup 0
Warmup 1
Warmup 2
Warmup 3
Warmup 4
Run MPI Combined Run0: Time=66113.3ms Kernel=0ms Probabilities=4515.3ms Ant=41551.9ms Update=0ms Memory=66113.3ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.628 MIN=0.494507 MAX=0.505545 
Run MPI Combined Run1: Time=65502.7ms Kernel=0ms Probabilities=4249.44ms Ant=41812.6ms Update=0ms Memory=65502.7ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.8203 MIN=0.494408 MAX=0.505549 
Run MPI Combined Run2: Time=65889.4ms Kernel=0ms Probabilities=4276.27ms Ant=41649.9ms Update=0ms Memory=65889.4ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.6981 MIN=0.494507 MAX=0.5055 
Run MPI Combined Run3: Time=65920.3ms Kernel=0ms Probabilities=4289.43ms Ant=41618.4ms Update=0ms Memory=65920.3ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.6884 MIN=0.494506 MAX=0.505535 
Run MPI Combined Run4: Time=65870.5ms Kernel=0ms Probabilities=4289.52ms Ant=41522.2ms Update=0ms Memory=65870.5ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.704 MIN=0.494506 MAX=0.505532 
Run MPI Combined Run5: Time=65876.2ms Kernel=0ms Probabilities=4290.36ms Ant=41645.9ms Update=0ms Memory=65876.2ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.7023 MIN=0.494508 MAX=0.505506 
Run MPI Combined Run6: Time=65914.2ms Kernel=0ms Probabilities=4268.99ms Ant=41613.6ms Update=0ms Memory=65914.2ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.6903 MIN=0.494507 MAX=0.505498 
Run MPI Combined Run7: Time=65863.3ms Kernel=0ms Probabilities=4287.84ms Ant=41630.1ms Update=0ms Memory=65863.3ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.7063 MIN=0.494506 MAX=0.505481 
Run MPI Combined Run8: Time=65523.3ms Kernel=0ms Probabilities=4208.81ms Ant=41653.3ms Update=0ms Memory=65523.3ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.8137 MIN=0.494507 MAX=0.505437 
Run MPI Combined Run9: Time=66037.3ms Kernel=0ms Probabilities=4484.5ms Ant=41772.3ms Update=0ms Memory=66037.3ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.6517 MIN=0.494507 MAX=0.505529 
Run MPI Combined Run10: Time=65576.9ms Kernel=0ms Probabilities=4227.71ms Ant=41617ms Update=0ms Memory=65576.9ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.7967 MIN=0.494509 MAX=0.505437 
Run MPI Combined Run11: Time=65766.3ms Kernel=0ms Probabilities=4248.74ms Ant=41555.4ms Update=0ms Memory=65766.3ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.7368 MIN=0.494506 MAX=0.505437 
Run MPI Combined Run12: Time=65821.6ms Kernel=0ms Probabilities=4248.76ms Ant=41647ms Update=0ms Memory=65821.6ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.7194 MIN=0.494532 MAX=0.505547 
Run MPI Combined Run13: Time=65846.9ms Kernel=0ms Probabilities=4248.64ms Ant=41650.3ms Update=0ms Memory=65846.9ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.7114 MIN=0.494508 MAX=0.505551 
Run MPI Combined Run14: Time=65835.2ms Kernel=0ms Probabilities=4251.53ms Ant=41637.4ms Update=0ms Memory=65835.2ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.7151 MIN=0.494413 MAX=0.505551 
Run MPI Combined Run15: Time=65872.2ms Kernel=0ms Probabilities=4239.72ms Ant=41670.2ms Update=0ms Memory=65872.2ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.7035 MIN=0.494543 MAX=0.505476 
Run MPI Combined Run16: Time=65943.5ms Kernel=0ms Probabilities=4262.36ms Ant=41610.7ms Update=0ms Memory=65943.5ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.6811 MIN=0.494455 MAX=0.505535 
Run MPI Combined Run17: Time=65884.9ms Kernel=0ms Probabilities=4243.96ms Ant=41657.1ms Update=0ms Memory=65884.9ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.6995 MIN=0.494506 MAX=0.50554 
Run MPI Combined Run18: Time=65547.5ms Kernel=0ms Probabilities=4308.37ms Ant=41661.6ms Update=0ms Memory=65547.5ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.8061 MIN=0.494506 MAX=0.505446 
Run MPI Combined Run19: Time=65626.6ms Kernel=0ms Probabilities=4222.32ms Ant=41669.1ms Update=0ms Memory=65626.6ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.781 MIN=0.494506 MAX=0.505437 
Run MPI Combined Run20: Time=65818.9ms Kernel=0ms Probabilities=4236.81ms Ant=41562.3ms Update=0ms Memory=65818.9ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.7203 MIN=0.494508 MAX=0.505535 
Run MPI Combined Run21: Time=65806.4ms Kernel=0ms Probabilities=4241.62ms Ant=41689.7ms Update=0ms Memory=65806.4ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.7242 MIN=0.494507 MAX=0.505466 
Run MPI Combined Run22: Time=65811ms Kernel=0ms Probabilities=4237.47ms Ant=41813.1ms Update=0ms Memory=65811ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.7227 MIN=0.494514 MAX=0.505539 
Run MPI Combined Run23: Time=65889.5ms Kernel=0ms Probabilities=4236.84ms Ant=41684.7ms Update=0ms Memory=65889.5ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.6981 MIN=0.494507 MAX=0.505547 
Run MPI Combined Run24: Time=65763.1ms Kernel=0ms Probabilities=4229.46ms Ant=41677.7ms Update=0ms Memory=65763.1ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.7378 MIN=0.494507 MAX=0.505551 
Run MPI Combined Run25: Time=65869.7ms Kernel=0ms Probabilities=4240.09ms Ant=41621.8ms Update=0ms Memory=65869.7ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.7043 MIN=0.494506 MAX=0.505505 
Run MPI Combined Run26: Time=65864.9ms Kernel=0ms Probabilities=4224.56ms Ant=41643.1ms Update=0ms Memory=65864.9ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.7058 MIN=0.494508 MAX=0.505606 
Run MPI Combined Run27: Time=65588.5ms Kernel=0ms Probabilities=4264.61ms Ant=41567.3ms Update=0ms Memory=65588.5ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.793 MIN=0.494519 MAX=0.505548 
Run MPI Combined Run28: Time=66040.3ms Kernel=0ms Probabilities=4442.74ms Ant=41630.7ms Update=0ms Memory=66040.3ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.6508 MIN=0.494506 MAX=0.50554 
Run MPI Combined Run29: Time=65704.2ms Kernel=0ms Probabilities=4234.4ms Ant=41600.8ms Update=0ms Memory=65704.2ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.7564 MIN=0.494508 MAX=0.50547 
Run MPI Combined Run30: Time=65882.8ms Kernel=0ms Probabilities=4228.02ms Ant=41607ms Update=0ms Memory=65882.8ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.7002 MIN=0.494513 MAX=0.505549 
Run MPI Combined Run31: Time=65790.2ms Kernel=0ms Probabilities=4212.59ms Ant=41534.6ms Update=0ms Memory=65790.2ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.7293 MIN=0.494507 MAX=0.505551 
Run MPI Combined Run32: Time=65922.5ms Kernel=0ms Probabilities=4230.2ms Ant=41699.9ms Update=0ms Memory=65922.5ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.6877 MIN=0.494412 MAX=0.505547 
Run MPI Combined Run33: Time=65941.5ms Kernel=0ms Probabilities=4219.33ms Ant=41694.2ms Update=0ms Memory=65941.5ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.6817 MIN=0.494391 MAX=0.505437 
Run MPI Combined Run34: Time=65970.7ms Kernel=0ms Probabilities=4233.4ms Ant=41601.2ms Update=0ms Memory=65970.7ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.6726 MIN=0.494506 MAX=0.505649 
Run MPI Combined Run35: Time=66006.9ms Kernel=0ms Probabilities=4243.01ms Ant=41615.5ms Update=0ms Memory=66006.9ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.6613 MIN=0.494508 MAX=0.505492 
Run MPI Combined Run36: Time=65520.5ms Kernel=0ms Probabilities=4176.8ms Ant=41603.5ms Update=0ms Memory=65520.5ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.8146 MIN=0.494506 MAX=0.505547 
Run MPI Combined Run37: Time=66146.7ms Kernel=0ms Probabilities=4506.21ms Ant=41675.9ms Update=0ms Memory=66146.7ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.6176 MIN=0.494509 MAX=0.505547 
Run MPI Combined Run38: Time=65662.4ms Kernel=0ms Probabilities=4266.01ms Ant=41566.1ms Update=0ms Memory=65662.4ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.7697 MIN=0.494507 MAX=0.505548 
Run MPI Combined Run39: Time=66024.1ms Kernel=0ms Probabilities=4270.1ms Ant=41572.5ms Update=0ms Memory=66024.1ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.6559 MIN=0.494478 MAX=0.505437 
Run MPI Combined Run40: Time=65832.3ms Kernel=0ms Probabilities=4268.9ms Ant=41696.8ms Update=0ms Memory=65832.3ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.716 MIN=0.494506 MAX=0.505541 
Run MPI Combined Run41: Time=65933ms Kernel=0ms Probabilities=4281.41ms Ant=41655.6ms Update=0ms Memory=65933ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.6844 MIN=0.494506 MAX=0.505537 
Run MPI Combined Run42: Time=65999.7ms Kernel=0ms Probabilities=4270.6ms Ant=41650.7ms Update=0ms Memory=65999.7ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.6635 MIN=0.49451 MAX=0.505522 
Run MPI Combined Run43: Time=65929ms Kernel=0ms Probabilities=4271.19ms Ant=41662.2ms Update=0ms Memory=65929ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.6857 MIN=0.494507 MAX=0.505509 
Run MPI Combined Run44: Time=66032.2ms Kernel=0ms Probabilities=4263.83ms Ant=41606.1ms Update=0ms Memory=66032.2ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.6533 MIN=0.494506 MAX=0.505541 
Run MPI Combined Run45: Time=65966.8ms Kernel=0ms Probabilities=4269.03ms Ant=41620.7ms Update=0ms Memory=65966.8ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.6738 MIN=0.494471 MAX=0.505437 
Run MPI Combined Run46: Time=65622.4ms Kernel=0ms Probabilities=4348.19ms Ant=41636.8ms Update=0ms Memory=65622.4ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.7823 MIN=0.494509 MAX=0.505543 
Run MPI Combined Run47: Time=65870ms Kernel=0ms Probabilities=4395.13ms Ant=41821.3ms Update=0ms Memory=65870ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.7042 MIN=0.494506 MAX=0.505466 
Run MPI Combined Run48: Time=65837.2ms Kernel=0ms Probabilities=4206.61ms Ant=41607.1ms Update=0ms Memory=65837.2ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.7145 MIN=0.494506 MAX=0.505529 
Run MPI Combined Run49: Time=65898ms Kernel=0ms Probabilities=4221.26ms Ant=41649.3ms Update=0ms Memory=65898ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.6954 MIN=0.494507 MAX=0.50555 
End time: Sun Dec 28 19:59:43 MSK 2025
Execution time: 3633.340581387 seconds
MPI execution completed successfully
Log file saved to results
GPU utilization after run:
index, name, utilization.gpu [%], memory.used [MiB], memory.free [MiB]
0, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
1, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
2, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
3, Tesla V100-SXM2-16GB, 3 %, 0 MiB, 16151 MiB

===================================================
Benchmark completed for PARAMETR_SIZE=172032, ANT_SIZE=1024!
Results saved in: results/
Execution time: 3633.340581387 seconds
Number of GPUs used: 4
===================================================
Cooling down for 10 seconds...

===================================================
Testing with PARAMETR_SIZE=344064
===================================================
Updating parameter file with PARAMETR_SIZE=344064...
Updating parametrs.h with PARAMETR_SIZE=344064 and NAME_FILE_GRAPH=Parametr_Graph/test344064.txt
Successfully updated parametrs.h with PARAMETR_SIZE=344064
Updating BLOCK_SIZE based on PARAM_SIZE...
Updating BLOCK_SIZE based on PARAM_SIZE=344064
PARAM_SIZE=344064 > 2688, setting BLOCK_SIZE=256
Successfully updated parametrs.h with BLOCK_SIZE=256
Updating MPI settings in parametrs.h...
MPI settings updated
===================================================
Testing with PARAMETR_SIZE=344064, ANT_SIZE=1024
===================================================
Updating parameter file with ANT_SIZE=1024...
Updating parametrs.h with ANT_SIZE=1024
Successfully updated parametrs.h with ANT_SIZE=1024
Compiling MPI CUDA program with arch=sm_70...
MPI compilation successful. Log saved to: results/compilation_logs/compile_size_344064_ant_1024_20251228_195959.txt

===================================================
Running 4-GPU MPI ACO optimization...
===================================================

Start time: Sun Dec 28 20:00:07 MSK 2025
Launching with 4 MPI processes (one per GPU)...
Method 1: Simple 4-process MPI run
Process 1/4 using GPU 1: Tesla V100-SXM2-16GB (Compute 7.0)
Process 0/4 using GPU 0: Tesla V100-SXM2-16GB (Compute 7.0)
Process 2/4 using GPU 2: Tesla V100-SXM2-16GB (Compute 7.0)
Process 3/4 using GPU 3: Tesla V100-SXM2-16GB (Compute 7.0)
Memory bounds check:
  PARAMETR_SIZE: 344064
  MAX_VALUE_SIZE: 5
  ANT_SIZE per process: 1024
  Total ants across all processes: 4096
  Total matrix elements: 1720320
Device 0: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 4084.51 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 1359165 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 2752512 bytes (2688 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 13762560 bytes (13440 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 1: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 4084.51 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 1359165 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 2752512 bytes (2688 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 13762560 bytes (13440 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 2: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 4084.51 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 1359165 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 2752512 bytes (2688 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 13762560 bytes (13440 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 3: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 4084.51 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 1359165 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 2752512 bytes (2688 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 13762560 bytes (13440 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
KOL_GPU: 4; PARAMETR_SIZE: 344064; MAX_VALUE_SIZE: 5; SET_PARAMETR_SIZE_ONE_X: 21; ANT_SIZE: 1024; MAX_THREAD_CUDA: 512; NAME_FILE_GRAPH: Parametr_Graph/test344064.txt; KOL_ITERATION: 500; KOL_PROGREV: 5; KOL_PROGON_STATISTICS: 50; PARAMETR_RO: 0.999; PARAMETR_Q: 1; PRINT_INFORMATION: 0; MAX_PARAMETR_VALUE_TO_MIN_OPT: 1; OPTIMIZE: OPTIMIZE_MIN_1 ; FUNCTION: SHAFFERA GO_HASH: 0; HASH_TABLE_SIZE: 1048576; ZERO_HASH_RESULT: -1; ZERO_HASH: 18446744073709551615; MAX_PROBES: 10000; MAX_CONST: 8192; MAX_SHARED: 49152; BLOCK_SIZE: 256; BIN_SEARCH: 0; NON_WHILE_ANT: 1; 
Warmup 0
Warmup 1
Warmup 2
Warmup 3
Warmup 4
Run MPI Combined Run0: Time=140874ms Kernel=0ms Probabilities=8630.24ms Ant=91590.7ms Update=0ms Memory=140874ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.3616 MIN=0.4973 MAX=0.502683 
Run MPI Combined Run1: Time=142260ms Kernel=0ms Probabilities=8730.44ms Ant=91414.9ms Update=0ms Memory=142260ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.173 MIN=0.497301 MAX=0.502685 
Run MPI Combined Run2: Time=141238ms Kernel=0ms Probabilities=8765.3ms Ant=91479.2ms Update=0ms Memory=141238ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.3117 MIN=0.497335 MAX=0.502696 
Run MPI Combined Run3: Time=140769ms Kernel=0ms Probabilities=8627.77ms Ant=91544.1ms Update=0ms Memory=140769ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.3761 MIN=0.497298 MAX=0.502685 
Run MPI Combined Run4: Time=140917ms Kernel=0ms Probabilities=8627.93ms Ant=91464.2ms Update=0ms Memory=140917ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.3558 MIN=0.49727 MAX=0.502684 
Run MPI Combined Run5: Time=140753ms Kernel=0ms Probabilities=8604.95ms Ant=91519.6ms Update=0ms Memory=140753ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.3782 MIN=0.497297 MAX=0.502684 
Run MPI Combined Run6: Time=141829ms Kernel=0ms Probabilities=9185.45ms Ant=91506.7ms Update=0ms Memory=141829ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.2313 MIN=0.497296 MAX=0.502684 
Run MPI Combined Run7: Time=142315ms Kernel=0ms Probabilities=9280.82ms Ant=91579.1ms Update=0ms Memory=142315ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.1655 MIN=0.497298 MAX=0.502705 
Run MPI Combined Run8: Time=142222ms Kernel=0ms Probabilities=9246.68ms Ant=91493.3ms Update=0ms Memory=142222ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.1781 MIN=0.497297 MAX=0.502684 
Run MPI Combined Run9: Time=142357ms Kernel=0ms Probabilities=9254.61ms Ant=91617.2ms Update=0ms Memory=142357ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.1599 MIN=0.497296 MAX=0.502684 
Run MPI Combined Run10: Time=141838ms Kernel=0ms Probabilities=9425.58ms Ant=91582.4ms Update=0ms Memory=141838ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.23 MIN=0.497296 MAX=0.50272 
Run MPI Combined Run11: Time=142333ms Kernel=0ms Probabilities=9266.48ms Ant=91647.7ms Update=0ms Memory=142333ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.1632 MIN=0.497296 MAX=0.5027 
Run MPI Combined Run12: Time=142045ms Kernel=0ms Probabilities=9254.11ms Ant=91593.3ms Update=0ms Memory=142045ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.2021 MIN=0.497296 MAX=0.502685 
Run MPI Combined Run13: Time=142236ms Kernel=0ms Probabilities=9267.02ms Ant=91465.6ms Update=0ms Memory=142236ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.1762 MIN=0.497298 MAX=0.502685 
Run MPI Combined Run14: Time=142029ms Kernel=0ms Probabilities=9411.22ms Ant=91405.7ms Update=0ms Memory=142029ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.2042 MIN=0.497304 MAX=0.502685 
Run MPI Combined Run15: Time=142354ms Kernel=0ms Probabilities=9177.65ms Ant=91410.8ms Update=0ms Memory=142354ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.1603 MIN=0.497315 MAX=0.502711 
Run MPI Combined Run16: Time=142483ms Kernel=0ms Probabilities=9180.77ms Ant=91493.6ms Update=0ms Memory=142483ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.143 MIN=0.497304 MAX=0.502684 
Run MPI Combined Run17: Time=142276ms Kernel=0ms Probabilities=9187.1ms Ant=91478.3ms Update=0ms Memory=142276ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.1708 MIN=0.497296 MAX=0.502685 
Run MPI Combined Run18: Time=142153ms Kernel=0ms Probabilities=9383.57ms Ant=91519.3ms Update=0ms Memory=142153ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.1874 MIN=0.497298 MAX=0.502684 
Run MPI Combined Run19: Time=142075ms Kernel=0ms Probabilities=9139.43ms Ant=91445.3ms Update=0ms Memory=142075ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.198 MIN=0.497296 MAX=0.502685 
Run MPI Combined Run20: Time=142356ms Kernel=0ms Probabilities=9224ms Ant=91464.1ms Update=0ms Memory=142356ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.16 MIN=0.497335 MAX=0.502685 
Run MPI Combined Run21: Time=142304ms Kernel=0ms Probabilities=9200.75ms Ant=91487.3ms Update=0ms Memory=142304ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.1671 MIN=0.497296 MAX=0.502694 
Run MPI Combined Run22: Time=142090ms Kernel=0ms Probabilities=9305.24ms Ant=91437.8ms Update=0ms Memory=142090ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.196 MIN=0.497304 MAX=0.502685 
Run MPI Combined Run23: Time=142292ms Kernel=0ms Probabilities=9252.63ms Ant=91500.3ms Update=0ms Memory=142292ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.1686 MIN=0.497322 MAX=0.502684 
Run MPI Combined Run24: Time=142559ms Kernel=0ms Probabilities=9302.89ms Ant=91398.6ms Update=0ms Memory=142559ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.1328 MIN=0.4973 MAX=0.502685 
Run MPI Combined Run25: Time=142458ms Kernel=0ms Probabilities=9296.95ms Ant=91393.1ms Update=0ms Memory=142458ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.1464 MIN=0.497297 MAX=0.502684 
Run MPI Combined Run26: Time=142324ms Kernel=0ms Probabilities=9389.6ms Ant=91435.2ms Update=0ms Memory=142324ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.1645 MIN=0.497296 MAX=0.502685 
Run MPI Combined Run27: Time=142302ms Kernel=0ms Probabilities=9397.5ms Ant=91592.2ms Update=0ms Memory=142302ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.1673 MIN=0.497298 MAX=0.502684 
Run MPI Combined Run28: Time=142273ms Kernel=0ms Probabilities=9249.41ms Ant=91401.5ms Update=0ms Memory=142273ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.1712 MIN=0.497296 MAX=0.502719 
Run MPI Combined Run29: Time=143009ms Kernel=0ms Probabilities=9361.65ms Ant=91403.8ms Update=0ms Memory=143009ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.0726 MIN=0.497298 MAX=0.502706 
Run MPI Combined Run30: Time=142304ms Kernel=0ms Probabilities=9297.19ms Ant=91497.3ms Update=0ms Memory=142304ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.1671 MIN=0.497299 MAX=0.502698 
Run MPI Combined Run31: Time=142243ms Kernel=0ms Probabilities=9331.26ms Ant=91415.1ms Update=0ms Memory=142243ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.1753 MIN=0.497307 MAX=0.502707 
Run MPI Combined Run32: Time=142380ms Kernel=0ms Probabilities=9137.68ms Ant=91436.5ms Update=0ms Memory=142380ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.1569 MIN=0.497303 MAX=0.502685 
Run MPI Combined Run33: Time=142468ms Kernel=0ms Probabilities=9180.38ms Ant=91298.8ms Update=0ms Memory=142468ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.1451 MIN=0.497328 MAX=0.502685 
Run MPI Combined Run34: Time=142351ms Kernel=0ms Probabilities=9216.75ms Ant=91394ms Update=0ms Memory=142351ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.1607 MIN=0.497296 MAX=0.502685 
Run MPI Combined Run35: Time=142314ms Kernel=0ms Probabilities=9456.56ms Ant=91498.4ms Update=0ms Memory=142314ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.1658 MIN=0.497305 MAX=0.502723 
Run MPI Combined Run36: Time=142634ms Kernel=0ms Probabilities=9291.74ms Ant=91410.8ms Update=0ms Memory=142634ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.1227 MIN=0.497312 MAX=0.502719 
Run MPI Combined Run37: Time=142456ms Kernel=0ms Probabilities=9277.05ms Ant=91389.9ms Update=0ms Memory=142456ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.1466 MIN=0.497296 MAX=0.502685 
Run MPI Combined Run38: Time=142633ms Kernel=0ms Probabilities=9255.56ms Ant=91422.9ms Update=0ms Memory=142633ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.1229 MIN=0.497296 MAX=0.502685 
Run MPI Combined Run39: Time=142279ms Kernel=0ms Probabilities=9504.59ms Ant=91497ms Update=0ms Memory=142279ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.1705 MIN=0.497298 MAX=0.502724 
Run MPI Combined Run40: Time=142654ms Kernel=0ms Probabilities=9248.27ms Ant=91420.9ms Update=0ms Memory=142654ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.12 MIN=0.497335 MAX=0.502685 
Run MPI Combined Run41: Time=142591ms Kernel=0ms Probabilities=9190.09ms Ant=91550ms Update=0ms Memory=142591ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.1286 MIN=0.497315 MAX=0.502705 
Run MPI Combined Run42: Time=142604ms Kernel=0ms Probabilities=9209.28ms Ant=91490.9ms Update=0ms Memory=142604ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.1267 MIN=0.497301 MAX=0.502685 
Run MPI Combined Run43: Time=142122ms Kernel=0ms Probabilities=9327.96ms Ant=91576.3ms Update=0ms Memory=142122ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.1917 MIN=0.497297 MAX=0.502721 
Run MPI Combined Run44: Time=142523ms Kernel=0ms Probabilities=9183.25ms Ant=91534.2ms Update=0ms Memory=142523ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.1377 MIN=0.497335 MAX=0.502684 
Run MPI Combined Run45: Time=142556ms Kernel=0ms Probabilities=9228.5ms Ant=91675.7ms Update=0ms Memory=142556ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.1332 MIN=0.497308 MAX=0.502724 
Run MPI Combined Run46: Time=142502ms Kernel=0ms Probabilities=9225.89ms Ant=91521.9ms Update=0ms Memory=142502ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.1404 MIN=0.497302 MAX=0.502692 
Run MPI Combined Run47: Time=133963ms Kernel=0ms Probabilities=7434.47ms Ant=91513.3ms Update=0ms Memory=133963ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.3605 MIN=0.497335 MAX=0.502684 
Run MPI Combined Run48: Time=131222ms Kernel=0ms Probabilities=6827.55ms Ant=91462ms Update=0ms Memory=131222ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.7858 MIN=0.497303 MAX=0.502685 
Run MPI Combined Run49: Time=130987ms Kernel=0ms Probabilities=6843.11ms Ant=91446.9ms Update=0ms Memory=130987ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=20.823 MIN=0.497298 MAX=0.502684 
End time: Sun Dec 28 22:10:06 MSK 2025
Execution time: 7799.131995451 seconds
MPI execution completed successfully
Log file saved to results
GPU utilization after run:
index, name, utilization.gpu [%], memory.used [MiB], memory.free [MiB]
0, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
1, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
2, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
3, Tesla V100-SXM2-16GB, 1 %, 0 MiB, 16151 MiB

===================================================
Benchmark completed for PARAMETR_SIZE=344064, ANT_SIZE=1024!
Results saved in: results/
Execution time: 7799.131995451 seconds
Number of GPUs used: 4
===================================================
Cooling down for 10 seconds...

===================================================
Testing with PARAMETR_SIZE=688128
===================================================
Updating parameter file with PARAMETR_SIZE=688128...
Updating parametrs.h with PARAMETR_SIZE=688128 and NAME_FILE_GRAPH=Parametr_Graph/test688128.txt
Successfully updated parametrs.h with PARAMETR_SIZE=688128
Updating BLOCK_SIZE based on PARAM_SIZE...
Updating BLOCK_SIZE based on PARAM_SIZE=688128
PARAM_SIZE=688128 > 2688, setting BLOCK_SIZE=256
Successfully updated parametrs.h with BLOCK_SIZE=256
Updating MPI settings in parametrs.h...
MPI settings updated
===================================================
Testing with PARAMETR_SIZE=688128, ANT_SIZE=1024
===================================================
Updating parameter file with ANT_SIZE=1024...
Updating parametrs.h with ANT_SIZE=1024
Successfully updated parametrs.h with ANT_SIZE=1024
Compiling MPI CUDA program with arch=sm_70...
MPI compilation successful. Log saved to: results/compilation_logs/compile_size_688128_ant_1024_20251228_221025.txt

===================================================
Running 4-GPU MPI ACO optimization...
===================================================

Start time: Sun Dec 28 22:10:32 MSK 2025
Launching with 4 MPI processes (one per GPU)...
Method 1: Simple 4-process MPI run
Process 1/4 using GPU 1: Tesla V100-SXM2-16GB (Compute 7.0)
Process 0/4 using GPU 0: Tesla V100-SXM2-16GB (Compute 7.0)
Process 3/4 using GPU 3: Tesla V100-SXM2-16GB (Compute 7.0)
Process 2/4 using GPU 2: Tesla V100-SXM2-16GB (Compute 7.0)
Memory bounds check:
  PARAMETR_SIZE: 688128
  MAX_VALUE_SIZE: 5
  ANT_SIZE per process: 1024
  Total ants across all processes: 4096
  Total matrix elements: 3440640
Device 0: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 8169.01 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 1359165 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 5505024 bytes (5376 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 27525120 bytes (26880 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 1: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 8169.01 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 1359165 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 5505024 bytes (5376 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 27525120 bytes (26880 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 2: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 8169.01 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 1359165 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 5505024 bytes (5376 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 27525120 bytes (26880 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 3: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 8169.01 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 1359165 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 5505024 bytes (5376 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 27525120 bytes (26880 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
KOL_GPU: 4; PARAMETR_SIZE: 688128; MAX_VALUE_SIZE: 5; SET_PARAMETR_SIZE_ONE_X: 21; ANT_SIZE: 1024; MAX_THREAD_CUDA: 512; NAME_FILE_GRAPH: Parametr_Graph/test688128.txt; KOL_ITERATION: 500; KOL_PROGREV: 5; KOL_PROGON_STATISTICS: 50; PARAMETR_RO: 0.999; PARAMETR_Q: 1; PRINT_INFORMATION: 0; MAX_PARAMETR_VALUE_TO_MIN_OPT: 1; OPTIMIZE: OPTIMIZE_MIN_1 ; FUNCTION: SHAFFERA GO_HASH: 0; HASH_TABLE_SIZE: 1048576; ZERO_HASH_RESULT: -1; ZERO_HASH: 18446744073709551615; MAX_PROBES: 10000; MAX_CONST: 8192; MAX_SHARED: 49152; BLOCK_SIZE: 256; BIN_SEARCH: 0; NON_WHILE_ANT: 1; 
Warmup 0
Warmup 1
Warmup 2
Warmup 3
Warmup 4
Run MPI Combined Run0: Time=273683ms Kernel=0ms Probabilities=13655.3ms Ant=193829ms Update=0ms Memory=273683ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9321 MIN=0.498678 MAX=0.501325 
Run MPI Combined Run1: Time=273489ms Kernel=0ms Probabilities=13670.1ms Ant=193863ms Update=0ms Memory=273489ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9463 MIN=0.498678 MAX=0.501323 
Run MPI Combined Run2: Time=273536ms Kernel=0ms Probabilities=13657.7ms Ant=193684ms Update=0ms Memory=273536ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9429 MIN=0.498678 MAX=0.501329 
Run MPI Combined Run3: Time=273759ms Kernel=0ms Probabilities=13760.2ms Ant=194248ms Update=0ms Memory=273759ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9266 MIN=0.498678 MAX=0.501342 
Run MPI Combined Run4: Time=273574ms Kernel=0ms Probabilities=13747.5ms Ant=193709ms Update=0ms Memory=273574ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9401 MIN=0.498678 MAX=0.501327 
Run MPI Combined Run5: Time=273707ms Kernel=0ms Probabilities=13716.8ms Ant=194176ms Update=0ms Memory=273707ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9304 MIN=0.498678 MAX=0.501327 
Run MPI Combined Run6: Time=273778ms Kernel=0ms Probabilities=13746.2ms Ant=193635ms Update=0ms Memory=273778ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9253 MIN=0.498678 MAX=0.501329 
Run MPI Combined Run7: Time=273311ms Kernel=0ms Probabilities=13733.8ms Ant=193642ms Update=0ms Memory=273311ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9593 MIN=0.498678 MAX=0.501331 
Run MPI Combined Run8: Time=273547ms Kernel=0ms Probabilities=13762.6ms Ant=193632ms Update=0ms Memory=273547ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.942 MIN=0.498678 MAX=0.501321 
Run MPI Combined Run9: Time=273580ms Kernel=0ms Probabilities=13755.6ms Ant=193864ms Update=0ms Memory=273580ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9396 MIN=0.498678 MAX=0.501323 
Run MPI Combined Run10: Time=273843ms Kernel=0ms Probabilities=13720.3ms Ant=193806ms Update=0ms Memory=273843ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9205 MIN=0.498678 MAX=0.501329 
Run MPI Combined Run11: Time=273582ms Kernel=0ms Probabilities=13768ms Ant=193767ms Update=0ms Memory=273582ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9395 MIN=0.498678 MAX=0.501329 
Run MPI Combined Run12: Time=273373ms Kernel=0ms Probabilities=13754.1ms Ant=193539ms Update=0ms Memory=273373ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9548 MIN=0.498678 MAX=0.501328 
Run MPI Combined Run13: Time=273595ms Kernel=0ms Probabilities=13756.7ms Ant=193888ms Update=0ms Memory=273595ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9386 MIN=0.498678 MAX=0.501326 
Run MPI Combined Run14: Time=273786ms Kernel=0ms Probabilities=13749.3ms Ant=193875ms Update=0ms Memory=273786ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9246 MIN=0.498678 MAX=0.501316 
Run MPI Combined Run15: Time=273488ms Kernel=0ms Probabilities=13761.7ms Ant=193683ms Update=0ms Memory=273488ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9464 MIN=0.498678 MAX=0.501328 
Run MPI Combined Run16: Time=273754ms Kernel=0ms Probabilities=13775.6ms Ant=193693ms Update=0ms Memory=273754ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.927 MIN=0.498678 MAX=0.501328 
Run MPI Combined Run17: Time=273570ms Kernel=0ms Probabilities=13737ms Ant=193767ms Update=0ms Memory=273570ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9404 MIN=0.498678 MAX=0.501327 
Run MPI Combined Run18: Time=273704ms Kernel=0ms Probabilities=13674.4ms Ant=193685ms Update=0ms Memory=273704ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9306 MIN=0.498678 MAX=0.501323 
Run MPI Combined Run19: Time=273526ms Kernel=0ms Probabilities=13661.4ms Ant=193620ms Update=0ms Memory=273526ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9436 MIN=0.498678 MAX=0.501329 
Run MPI Combined Run20: Time=273667ms Kernel=0ms Probabilities=13641.7ms Ant=194035ms Update=0ms Memory=273667ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9333 MIN=0.498678 MAX=0.501315 
Run MPI Combined Run21: Time=273292ms Kernel=0ms Probabilities=13674ms Ant=193717ms Update=0ms Memory=273292ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9607 MIN=0.498669 MAX=0.501325 
Run MPI Combined Run22: Time=273430ms Kernel=0ms Probabilities=13701.9ms Ant=193953ms Update=0ms Memory=273430ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9506 MIN=0.498678 MAX=0.501325 
Run MPI Combined Run23: Time=273258ms Kernel=0ms Probabilities=13686.2ms Ant=193832ms Update=0ms Memory=273258ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9632 MIN=0.498678 MAX=0.501329 
Run MPI Combined Run24: Time=273335ms Kernel=0ms Probabilities=13696.5ms Ant=193714ms Update=0ms Memory=273335ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9576 MIN=0.498678 MAX=0.501315 
Run MPI Combined Run25: Time=273560ms Kernel=0ms Probabilities=13723ms Ant=193609ms Update=0ms Memory=273560ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9411 MIN=0.498678 MAX=0.501329 
Run MPI Combined Run26: Time=273734ms Kernel=0ms Probabilities=13712ms Ant=193672ms Update=0ms Memory=273734ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9284 MIN=0.498678 MAX=0.501329 
Run MPI Combined Run27: Time=273466ms Kernel=0ms Probabilities=13743.6ms Ant=193695ms Update=0ms Memory=273466ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.948 MIN=0.498678 MAX=0.501328 
Run MPI Combined Run28: Time=273689ms Kernel=0ms Probabilities=13808.2ms Ant=193662ms Update=0ms Memory=273689ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9317 MIN=0.498678 MAX=0.501329 
Run MPI Combined Run29: Time=273250ms Kernel=0ms Probabilities=13667.8ms Ant=193699ms Update=0ms Memory=273250ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9638 MIN=0.498666 MAX=0.501328 
Run MPI Combined Run30: Time=273482ms Kernel=0ms Probabilities=13603.2ms Ant=193898ms Update=0ms Memory=273482ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9468 MIN=0.498678 MAX=0.501329 
Run MPI Combined Run31: Time=273316ms Kernel=0ms Probabilities=13620.5ms Ant=193720ms Update=0ms Memory=273316ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9589 MIN=0.498678 MAX=0.501329 
Run MPI Combined Run32: Time=273570ms Kernel=0ms Probabilities=13642.5ms Ant=193764ms Update=0ms Memory=273570ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9404 MIN=0.498678 MAX=0.501329 
Run MPI Combined Run33: Time=273374ms Kernel=0ms Probabilities=13687.7ms Ant=193710ms Update=0ms Memory=273374ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9547 MIN=0.49867 MAX=0.501327 
Run MPI Combined Run34: Time=273780ms Kernel=0ms Probabilities=13728.6ms Ant=193756ms Update=0ms Memory=273780ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9251 MIN=0.498678 MAX=0.501329 
Run MPI Combined Run35: Time=273435ms Kernel=0ms Probabilities=13692.9ms Ant=193922ms Update=0ms Memory=273435ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9503 MIN=0.498678 MAX=0.501328 
Run MPI Combined Run36: Time=273506ms Kernel=0ms Probabilities=13701.8ms Ant=193734ms Update=0ms Memory=273506ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9451 MIN=0.498672 MAX=0.501315 
Run MPI Combined Run37: Time=273321ms Kernel=0ms Probabilities=13644.1ms Ant=193916ms Update=0ms Memory=273321ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9585 MIN=0.498678 MAX=0.501315 
Run MPI Combined Run38: Time=273546ms Kernel=0ms Probabilities=13691.2ms Ant=193627ms Update=0ms Memory=273546ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9421 MIN=0.498678 MAX=0.501322 
Run MPI Combined Run39: Time=273412ms Kernel=0ms Probabilities=13675.7ms Ant=193650ms Update=0ms Memory=273412ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9519 MIN=0.498678 MAX=0.501329 
Run MPI Combined Run40: Time=273698ms Kernel=0ms Probabilities=13727ms Ant=193825ms Update=0ms Memory=273698ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9311 MIN=0.498678 MAX=0.501329 
Run MPI Combined Run41: Time=273643ms Kernel=0ms Probabilities=13667.7ms Ant=193725ms Update=0ms Memory=273643ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9351 MIN=0.498678 MAX=0.501329 
Run MPI Combined Run42: Time=273582ms Kernel=0ms Probabilities=13709.6ms Ant=193670ms Update=0ms Memory=273582ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9395 MIN=0.498678 MAX=0.501329 
Run MPI Combined Run43: Time=273478ms Kernel=0ms Probabilities=13699.8ms Ant=193770ms Update=0ms Memory=273478ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9471 MIN=0.498678 MAX=0.501327 
Run MPI Combined Run44: Time=273378ms Kernel=0ms Probabilities=13687.4ms Ant=193692ms Update=0ms Memory=273378ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9544 MIN=0.498665 MAX=0.501328 
Run MPI Combined Run45: Time=273634ms Kernel=0ms Probabilities=13706.1ms Ant=193837ms Update=0ms Memory=273634ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9357 MIN=0.498678 MAX=0.501324 
Run MPI Combined Run46: Time=273509ms Kernel=0ms Probabilities=13703.2ms Ant=193726ms Update=0ms Memory=273509ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9449 MIN=0.498678 MAX=0.501321 
Run MPI Combined Run47: Time=273399ms Kernel=0ms Probabilities=13724.7ms Ant=193727ms Update=0ms Memory=273399ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9528 MIN=0.498668 MAX=0.501329 
Run MPI Combined Run48: Time=273189ms Kernel=0ms Probabilities=13676ms Ant=193853ms Update=0ms Memory=273189ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9682 MIN=0.498678 MAX=0.501328 
Run MPI Combined Run49: Time=273645ms Kernel=0ms Probabilities=13740.5ms Ant=193720ms Update=0ms Memory=273645ms HitRate=-nan% Occupancy=100% memory_throughput_gbs=19.9349 MIN=0.498678 MAX=0.501319 
End time: Mon Dec 29 02:21:35 MSK 2025
Execution time: 15062.817219850 seconds
MPI execution completed successfully
Log file saved to results
GPU utilization after run:
index, name, utilization.gpu [%], memory.used [MiB], memory.free [MiB]
0, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
1, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
2, Tesla V100-SXM2-16GB, 0 %, 0 MiB, 16151 MiB
3, Tesla V100-SXM2-16GB, 1 %, 0 MiB, 16151 MiB

===================================================
Benchmark completed for PARAMETR_SIZE=688128, ANT_SIZE=1024!
Results saved in: results/
Execution time: 15062.817219850 seconds
Number of GPUs used: 4
===================================================
Cooling down for 10 seconds...

===================================================
Testing with PARAMETR_SIZE=1376256
===================================================
Updating parameter file with PARAMETR_SIZE=1376256...
Updating parametrs.h with PARAMETR_SIZE=1376256 and NAME_FILE_GRAPH=Parametr_Graph/test1376256.txt
Successfully updated parametrs.h with PARAMETR_SIZE=1376256
Updating BLOCK_SIZE based on PARAM_SIZE...
Updating BLOCK_SIZE based on PARAM_SIZE=1376256
PARAM_SIZE=1376256 > 2688, setting BLOCK_SIZE=256
Successfully updated parametrs.h with BLOCK_SIZE=256
Updating MPI settings in parametrs.h...
MPI settings updated
===================================================
Testing with PARAMETR_SIZE=1376256, ANT_SIZE=1024
===================================================
Updating parameter file with ANT_SIZE=1024...
Updating parametrs.h with ANT_SIZE=1024
Successfully updated parametrs.h with ANT_SIZE=1024
Compiling MPI CUDA program with arch=sm_70...
MPI compilation successful. Log saved to: results/compilation_logs/compile_size_1376256_ant_1024_20251229_022151.txt

===================================================
Running 4-GPU MPI ACO optimization...
===================================================

Start time: Mon Dec 29 02:21:57 MSK 2025
Launching with 4 MPI processes (one per GPU)...
Method 1: Simple 4-process MPI run
Process 1/4 using GPU 1: Tesla V100-SXM2-16GB (Compute 7.0)
Process 2/4 using GPU 2: Tesla V100-SXM2-16GB (Compute 7.0)
Process 3/4 using GPU 3: Tesla V100-SXM2-16GB (Compute 7.0)
Process 0/4 using GPU 0: Tesla V100-SXM2-16GB (Compute 7.0)
Memory bounds check:
  PARAMETR_SIZE: 1376256
  MAX_VALUE_SIZE: 5
  ANT_SIZE per process: 1024
  Total ants across all processes: 4096
  Total matrix elements: 6881280
Device 0: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 16338 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 1359165 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 11010048 bytes (10752 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 55050240 bytes (53760 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 1: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 16338 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 1359165 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 11010048 bytes (10752 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 55050240 bytes (53760 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 2: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 16338 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 1359165 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 11010048 bytes (10752 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 55050240 bytes (53760 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
Device 3: Tesla V100-SXM2-16GB
Max thread in blocks: 1024
Total Global Memory: 16151.1 MB
GPU Global Memory Usage: 16338 MB
GPU Global Memory Hash Table: 16 MB
Max PARAMETR_SIZE in GPU Global Memory: 1359165 
Shared memory per block: 49152 bytes (48 KB)
Shared memory per multiprocessor: 98304 bytes (96 KB)
Data size in Shared memory per block: 11010048 bytes (10752 KB)
Constant Memory: 65536 bytes
Parameter data size (in Constant Memory): 55050240 bytes (53760 KB)
Registers per Block: 65536
Warp Size: 32
Compute Capability: 7.0
Can Map Host Memory: Yes
Clock Rate: 1530 MHz
L2 Cache Size: 6291456 bytes
Multiprocessor Count: 80
Max thread in blocks by axis: (1024, 1024, 64)
Max blocks by axis: (2147483647, 65535, 65535)
KOL_GPU: 4; PARAMETR_SIZE: 1376256; MAX_VALUE_SIZE: 5; SET_PARAMETR_SIZE_ONE_X: 21; ANT_SIZE: 1024; MAX_THREAD_CUDA: 512; NAME_FILE_GRAPH: Parametr_Graph/test1376256.txt; KOL_ITERATION: 500; KOL_PROGREV: 5; KOL_PROGON_STATISTICS: 50; PARAMETR_RO: 0.999; PARAMETR_Q: 1; PRINT_INFORMATION: 0; MAX_PARAMETR_VALUE_TO_MIN_OPT: 1; OPTIMIZE: OPTIMIZE_MIN_1 ; FUNCTION: SHAFFERA GO_HASH: 0; HASH_TABLE_SIZE: 1048576; ZERO_HASH_RESULT: -1; ZERO_HASH: 18446744073709551615; MAX_PROBES: 10000; MAX_CONST: 8192; MAX_SHARED: 49152; BLOCK_SIZE: 256; BIN_SEARCH: 0; NON_WHILE_ANT: 1; 
Warmup 0
Process 3: Failed to allocate dev_agent_node. Error: out of memory
Process 3: CUDA error during initialization: out of memory
Process 1: Failed to allocate dev_agent_node. Error: out of memory
Process 1: CUDA error during initialization: out of memory
Process 0: Failed to allocate dev_agent_node. Error: out of memory
Process 0: CUDA error during initialization: out of memory
Process 3: Failed to initialize CUDA resources
--------------------------------------------------------------------------
MPI_ABORT was invoked on rank 3 in communicator MPI_COMM_WORLD
with errorcode 1.

NOTE: invoking MPI_ABORT causes Open MPI to kill all MPI processes.
You may or may not see output from other processes, depending on
exactly when Open MPI kills them.
--------------------------------------------------------------------------
End time: Mon Dec 29 02:22:03 MSK 2025
Execution time: 5.570723164 seconds
MPI execution completed successfully
Log file saved to results
GPU utilization after run:
index, name, utilization.gpu [%], memory.used [MiB], memory.free [MiB]
0, Tesla V100-SXM2-16GB, 100 %, 1141 MiB, 15009 MiB
1, Tesla V100-SXM2-16GB, 100 %, 3 MiB, 16147 MiB
2, Tesla V100-SXM2-16GB, 99 %, 3 MiB, 16147 MiB
3, Tesla V100-SXM2-16GB, 100 %, 3 MiB, 16147 MiB

===================================================
Benchmark completed for PARAMETR_SIZE=1376256, ANT_SIZE=1024!
Results saved in: results/
Execution time: 5.570723164 seconds
Number of GPUs used: 4
===================================================
Cooling down for 10 seconds...
All 4-GPU MPI benchmarks completed successfully!
Results summary:
- Total parameter sizes tested: 16
- ANT_SIZE tested: 1024
- Number of GPUs used: 4
- All logs saved in: results/
- Compilation logs: results/compilation_logs/
- Execution logs: results/execution_logs/
